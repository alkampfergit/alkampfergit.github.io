<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DDD on Codewrecks</title><link>https://www.codewrecks.com/tags/ddd/</link><description>Recent content in DDD on Codewrecks</description><generator>Hugo</generator><language>en</language><lastBuildDate>Tue, 13 Aug 2013 18:00:37 +0200</lastBuildDate><atom:link href="https://www.codewrecks.com/tags/ddd/index.xml" rel="self" type="application/rss+xml"/><item><title>Domain Driven Design for security</title><link>https://www.codewrecks.com/post/old/2013/08/domain-driven-design-for-security/</link><pubDate>Tue, 13 Aug 2013 18:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2013/08/domain-driven-design-for-security/</guid><description>&lt;p>I’ve just seen this &lt;a href="http://dddcommunity.org/dan_bergh_johnsson_daniel_gackle_2013">interesting video of Dan Bergh Johnsson on DDD Security&lt;/a> and I must admit that I agree with Dan under many aspect. One of the real advantage of DDD is making business explicit, and this can help in so many places in your software, that &lt;a href="http://dddcommunity.org/dan_bergh_johnsson_daniel_gackle_2013">even security can benefit of DDD&lt;/a>. It is a video I suggest you to watch, because is really small and it can open up a lot of discussion on &lt;strong>Value Objects&lt;/strong> , one of the most useful pattern when you work with DDD.&lt;/p></description></item><item><title>Scan all assembly of the directory to find DomainEvent Handlers and command executors</title><link>https://www.codewrecks.com/post/old/2012/08/scan-all-assembly-of-the-directory-to-find-domainevent-handlers-and-command-executors/</link><pubDate>Sat, 04 Aug 2012 08:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/08/scan-all-assembly-of-the-directory-to-find-domainevent-handlers-and-command-executors/</guid><description>&lt;p>Structures based on &lt;a href="http://www.codewrecks.com/blog/index.php/2012/07/25/convention-over-configuration-domain-event-and-commanding/">Commands, Events and respective handle&lt;/a>r are really flexible and to maximize this flexibility &lt;strong>adopting a convention over configuration is the key of success&lt;/strong>. If you look at this simple &lt;a href="https://github.com/andreabalducci/Prxm.Cqrs">playground project&lt;/a> you can find that &lt;em>we adopted a convention where a domain handler is any object that implements the IDomainHandler marker interface and any public Method that returns void and accepts a single parameter that inherits from the base class DomainEvent is a method handler&lt;/em>. The code to discover handlers is really simple and primitive, but serves the purpose of showing the basic concepts.&lt;/p></description></item><item><title>Convention over configuration Domain Event and Commanding</title><link>https://www.codewrecks.com/post/old/2012/07/convention-over-configuration-domain-event-and-commanding/</link><pubDate>Wed, 25 Jul 2012 14:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/07/convention-over-configuration-domain-event-and-commanding/</guid><description>&lt;p>If you are &lt;a href="http://www.codewrecks.com/blog/index.php/2012/07/06/poor-man-ddd/">moving to a more DDD&lt;/a> oriented architecture probably you will adopt a solution that uses &lt;strong>Commands&lt;/strong> and &lt;strong>Handlers&lt;/strong>. Commands are the &lt;strong>requests sent to BOUNDED CONTEXT from users or from external systems&lt;/strong> , they are processed by Command Executors and usually execution is a matter of loading some AGGREGATE ROOT from the store and invoking Methods on it.&lt;/p>
&lt;p>Even if you are not using EVENT SOURCING, (Es. you have your AGGREGATE ROOTS persisted on a SQL Database with NHibernate), &lt;strong>you should leverage the concept of DOMAIN EVENTS letting each AGGREGATE ROOT to raise one or more DOMAIN EVENTS during execution of its methods&lt;/strong>. This means that we need to build an infrastructure capable of identifying for each command the &lt;em>single command handler capable of executing that command&lt;/em> and for each different type of DOMAIN EVENT &lt;em>the list of Domain Event handlers that are interested in being notified about that event&lt;/em>.&lt;/p></description></item><item><title>Poor Man DDD</title><link>https://www.codewrecks.com/post/old/2012/07/poor-man-ddd/</link><pubDate>Fri, 06 Jul 2012 19:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/07/poor-man-ddd/</guid><description>&lt;p>Some of my &lt;a href="http://blog.codiceplastico.com/melkio/index.php/tag/ddd/">friends&lt;/a> are doing &lt;a href="http://milestone.topics.it/2012/07/domain-events-and-domain-events.html">great stuff&lt;/a> with &lt;a href="http://domaindrivendesign.org/">DDD&lt;/a> but it is difficult to do DDD in legacy projects that last for years and started with a classical structure of UI+domain(anemic)+ORM/DAL, so it seems that exploring the fascinating land of DDD is an option only for people that start to work on new project, but it is really true? Clearly the &lt;strong>main advantage of DDD is not related to technical questions&lt;/strong> , but it is to be found in the approach to problem: &lt;strong>dialogue with DOMAIN EXPERTS,&lt;/strong> &lt;strong>establishing an UBIQUITOUS LANGUAGE&lt;/strong> , and so on, but some of the grounding technical concepts of DDD can be inserted in legacy applications built with standard techniques to bring some of the advantages of DDD in existing projects.&lt;/p></description></item><item><title>SimpleCQRS appliers and convention over configuration</title><link>https://www.codewrecks.com/post/old/2012/06/simplecqrs-appliers-and-convention-over-configuration/</link><pubDate>Mon, 25 Jun 2012 14:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/06/simplecqrs-appliers-and-convention-over-configuration/</guid><description>&lt;p>I was playing around with &lt;a href="https://github.com/andreabalducci/SimpleCQRS">&lt;strong>SimpleCQRS&lt;/strong>&lt;/a>  &lt;strong>project&lt;/strong> because my friend &lt;a href="http://www.ienumerable.it/">Andrea&lt;/a> started to work on it recently. &lt;strong>We now have Mongo repository for the events&lt;/strong> so I forked the project to have a look on it and contribute to Andrea works. I’ve opened the solution, ran the program, created some InventoryItems, then I look into mongo database to verify if snapshot of objects are correctly taken but I found this.&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2012/06/image5.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2012/06/image_thumb5.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2012/06/image_thumb5.png" alt="image" />&lt;/a>&lt;/a>&lt;/p></description></item><item><title>Lightweight code generation to access private method to implement Event Sourcing</title><link>https://www.codewrecks.com/post/old/2012/06/lightweight-code-generation-to-access-private-method-to-implement-event-sourcing/</link><pubDate>Mon, 04 Jun 2012 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/06/lightweight-code-generation-to-access-private-method-to-implement-event-sourcing/</guid><description>&lt;p>I like really much to play with &lt;a href="http://www.codewrecks.com/blog/index.php/2008/10/09/again-on-expression-tree-vs-reflection/">Expression Tree or Dynamic Code Generation&lt;/a>, a couple of techniques useful to do fast reflection, to maintain all the coolness of reflection (Es. invoking non public members) but without incurring in the penalties of calling methods through pure reflection calls. There are really good libraries around the web, like &lt;a href="http://fasterflect.codeplex.com/">FastReflect&lt;/a> that internally uses the power of LCG to invoke private methods, but the main question is: &lt;strong>why you should be use such a dirty technique&lt;/strong> ?? After all &lt;em>if a method is Non Public the declaring type probably has lots of reason for having it declared this way and it is not a good practice to break this rule&lt;/em>. So lets see a scenario where such functionality can be useful.&lt;/p></description></item><item><title>Traffic light vNext</title><link>https://www.codewrecks.com/post/old/2012/05/traffic-light-vnext/</link><pubDate>Mon, 07 May 2012 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/05/traffic-light-vnext/</guid><description>&lt;ul>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2011/11/07/traffic-light-experiment/">TrafficLight Experiment.&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2011/11/08/advantage-of-ddd-approach-to-problem/">Advantage of DDD approach to the problem&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/01/30/traffic-light-say-goodbye-to-public-properties/">Traffic Light, say goodbye to public properties&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>It is a long time I did not post about simple &lt;strong>Traffic Light experiment&lt;/strong>. I’ve ended with a super simple Domain with no Getters and no Setters, but there is still something I really do not like about that sample and it is represented by this test.&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[Fact]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> When_both_semaphore_are_red_one_become_green()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//move all to yellow fixed&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">using&lt;/span> (DateTimeService.OverrideTimeGenerator(DateTime.Now.AddSeconds(&lt;span style="color:#ae81ff">1&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sut.Tick();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Clear();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//now move again to both red&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">using&lt;/span> (DateTimeService.OverrideTimeGenerator(DateTime.Now.AddSeconds(&lt;span style="color:#ae81ff">10&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sut.Tick();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Should().Have.Count.EqualTo(&lt;span style="color:#ae81ff">2&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.All(e =&amp;gt; e.NewStatus == LightColor.Red).Should().Be.True();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Clear();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">using&lt;/span> (DateTimeService.OverrideTimeGenerator(DateTime.Now.AddSeconds(&lt;span style="color:#ae81ff">1&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sut.Tick();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//only one semaphore should be go to green state&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Should().Have.Count.EqualTo(&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents[&lt;span style="color:#ae81ff">0&lt;/span>].NewStatus.Should().Be.EqualTo(LightColor.Green);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;p>This test is quite ugly and it requires some initialization code, contained in the constructor of the test class.&lt;/p></description></item><item><title>Traffic light say goodbye to public properties</title><link>https://www.codewrecks.com/post/old/2012/01/traffic-light-say-goodbye-to-public-properties/</link><pubDate>Mon, 30 Jan 2012 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/01/traffic-light-say-goodbye-to-public-properties/</guid><description>&lt;p>I’ve more to say about the Traffic Light example I explained in a &lt;a href="http://www.codewrecks.com/blog/index.php/2011/11/07/traffic-light-experiment/">previous post&lt;/a>, if you look at that post, you can notice that the Domain is composed by properties that have only getter and not setters. This needs is explained &lt;a href="http://www.codewrecks.com/blog/index.php/2011/10/20/protect-the-status-of-your-entities/">in this post&lt;/a>, where I explain why you should protect the status of your entities from external direct manipulation.&lt;/p>
&lt;p>If I wish to use my simple Traffic-Light example in a class to teach OOP principle, it is not good enough, because it breaks the concept of &lt;em>&lt;a href="http://en.wikipedia.org/wiki/Encapsulation_%28object-oriented_programming%29">Encapsulation&lt;/a>&lt;/em>. As stated in Wikipedia&lt;/p></description></item><item><title>Is my Domain Model really anemic</title><link>https://www.codewrecks.com/post/old/2012/01/is-my-domain-model-really-anemic/</link><pubDate>Mon, 23 Jan 2012 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/01/is-my-domain-model-really-anemic/</guid><description>&lt;p>I’m reading the exceptional &lt;a href="http://www.amazon.com/Object-Thinking-DV-Microsoft-Professional-David/dp/0735619654">Object Thinking&lt;/a> book, full of interesting considerations about thinking with an Object Oriented mind. One of the main concept of the book is that &lt;em>quite often we are using objects in a procedural way so we are still in the realm of procedural programming even using inheritance, constructor, etc etc&lt;/em>. As an example we can have a domain where each object is only a container for data (properties) and a bunch of other classes (services) are using that domain objects to accomplish business rules.&lt;/p></description></item><item><title>Fluent interface for factory to create hierarchy of objects</title><link>https://www.codewrecks.com/post/old/2012/01/fluent-interface-for-factory-to-create-hierarchy-of-objects/</link><pubDate>Mon, 02 Jan 2012 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/01/fluent-interface-for-factory-to-create-hierarchy-of-objects/</guid><description>&lt;p>&lt;a href="http://www.martinfowler.com/bliki/FluentInterface.html">Fluent interfaces&lt;/a> are great for a various amount of situations because they permit to create a simple DSL using only the base capabilities of your language of choice. I like very much Fluent Interfaces especially to create &lt;a href="http://en.wikipedia.org/wiki/Factory_%28software_concept%29">Factories&lt;/a> to avoid messing with several constructors when your classes are complex to create.&lt;/p>
&lt;p>&lt;font size="3">&lt;strong>The model&lt;/strong>&lt;/font>&lt;/p>
&lt;p>Suppose you want to create a fluent Factory for a * &lt;strong>Character&lt;/strong> *abstract class that has two concrete classes called: &lt;strong>Warriors&lt;/strong> and &lt;strong>Wizards,&lt;/strong> with this model you want to create a Fluent Interface to create object. This is the Class Diagram&lt;/p></description></item><item><title>Advantage of DDD approach to problem</title><link>https://www.codewrecks.com/post/old/2011/11/advantage-of-ddd-approach-to-problem/</link><pubDate>Tue, 08 Nov 2011 18:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/11/advantage-of-ddd-approach-to-problem/</guid><description>&lt;p>If you read my &lt;a href="http://www.codewrecks.com/blog/index.php/2011/11/07/traffic-light-experiment/">last post&lt;/a>, I explain how I solved a really stupid problem of managing a Traffic Light using OOP principles and the concept of Domain Events, now I want to emphasize some of the advantages you have using this approach.&lt;/p>
&lt;p>One benefit is in unit testing, suppose you want to test that a traffic light in red state does not cancel the request of another Traffic Light that want to become green.&lt;/p></description></item><item><title>Traffic Light Experiment</title><link>https://www.codewrecks.com/post/old/2011/11/traffic-light-experiment/</link><pubDate>Mon, 07 Nov 2011 17:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/11/traffic-light-experiment/</guid><description>&lt;p>Suppose you need to implement a traffic light manager for a crossroad and you decide to approach with a DDD style to experiment some patterns and techniques. Going with DDD-Like approach in such a simple scenario is probably not the best idea, but the aim of this little experiment is trying to approach a problem trying to follow “object thinking”.&lt;/p>
&lt;p>A classic approach to this problem usually produces a  TrafficLight class with a bunch of properties and probably a CrossRoad or TrafficLightManager class with all the logic, that basically read the status of Traffic Lights elaborates these data and change the status accordingly.&lt;/p></description></item><item><title>Protect the status of your entities</title><link>https://www.codewrecks.com/post/old/2011/10/protect-the-status-of-your-entities/</link><pubDate>Thu, 20 Oct 2011 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/10/protect-the-status-of-your-entities/</guid><description>&lt;p>Encapsulation is one of the key concept of &lt;a href="http://en.wikipedia.org/wiki/Object-oriented_programming">OOP&lt;/a>, the status of an entity should be protected from external direct manipulation, state of an object can be changed only by the object itself so the object is always in &lt;strong>Valid State.&lt;/strong> One of the classic example is protecting property that contains collection of elements in.NET, like properties of type &lt;em>ILIST&amp;lt;T&amp;gt;.&lt;/em>&lt;/p>
&lt;p>Suppose that your * &lt;strong>Character&lt;/strong> *entity has a property called Weapons of type &lt;em>IList&amp;lt;Weapon&amp;gt;&lt;/em>, directly exposed to the outside world; this is the perfect example of broken encapsulation, because the entity has &lt;em>no control over what it got added to that collection&lt;/em>. This will mean that this code is perfectly valid and compile&lt;/p></description></item><item><title>Role playing games resources that grow with time</title><link>https://www.codewrecks.com/post/old/2011/09/role-playing-games-resources-that-grow-with-time/</link><pubDate>Mon, 05 Sep 2011 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/09/role-playing-games-resources-that-grow-with-time/</guid><description>&lt;p>In a typical online web browser role playing game, usually players has &lt;em>resources&lt;/em>, that are needed to create building, weapon etc etc, and those resources are timed based. In the domain the concepts is something like &lt;em>the player earn X energy each second&lt;/em>.&lt;/p>
&lt;p>&lt;a target="_blank" href="http://www.thinkgeek.com/images/products/zoom/mana_energy_potion_sixpack.jpg"> &lt;img src="http://www.thinkgeek.com/images/products/zoom/mana_energy_potion_sixpack.jpg" alt="External Image" />&lt;/a>&lt;/p>
&lt;p>This is a typical situation in a role playing web game and if you try to implement logic at database level you can find a lot of problems. First of all, suppose you have some stored procedure or data related logic to load the correct value of the &lt;em>energy&lt;/em> (you can store amount and a time and calculate the right value doing a diff with the current value). When you load data you could not store the value in cache, because it get staled quite immediately and can lead to incorrect behavior. You can implement some logic to keep cache data updated, but the whole problem is that logic gets scattered all over the program. The real problem is that you have the risk of not knowing exactly where the logic of &lt;em>time growing resource&lt;/em> is effectively handled in your code.&lt;/p></description></item><item><title>Leverage the concept of 'state' of your entities</title><link>https://www.codewrecks.com/post/old/2011/06/leverage-the-concept-of-state-of-your-entities/</link><pubDate>Mon, 13 Jun 2011 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/06/leverage-the-concept-of-state-of-your-entities/</guid><description>&lt;p>One of the interesting ideas found in &lt;a href="http://radical.codeplex.com/">Radical&lt;/a> and other implementations of DDD architectures, is implementing properties of Domain objects in a slightly different way from the standard, using something like a dictionary to store values of properties. When we want to implement a property for a Domain class you usually end up with similar code.&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> String Property { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> _fieldBasedProperty;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> String FieldBasedProperty
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">get&lt;/span> { &lt;span style="color:#66d9ef">return&lt;/span> _fieldBasedProperty; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">set&lt;/span> { _fieldBasedProperty = &lt;span style="color:#66d9ef">value&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;p>Both of them use a private field to store the real value of the property, the first one is a compact form  (I to not like it for Domain object because it gives you no control on state changing of the object), the second one is the standard code to implement a property with a Backing field. Remember that in OOP an Object is a composition of Code and Data and having getter and setter for properties give use control on the * &lt;strong>state&lt;/strong> *of the object. Both of the above implementations are based on this concept and are widely used in all projects.&lt;/p></description></item><item><title>Domain Driven Design in search of a good sample</title><link>https://www.codewrecks.com/post/old/2011/05/domain-driven-design-in-search-of-a-good-sample/</link><pubDate>Fri, 13 May 2011 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/05/domain-driven-design-in-search-of-a-good-sample/</guid><description>&lt;p>Some time ago, I was speaking with my dear friend &lt;a href="http://www.topics.it/">Mauro Servienti&lt;/a> about Domain Driven Design and the hard time we have in making people understand the real reasons behind &lt;a href="http://domaindrivendesign.org/">DDD&lt;/a>, CQRS and all the concepts in the DDD ecosystem.&lt;/p>
&lt;p>&lt;a target="_blank" href="http://comm563.files.wordpress.com/2011/03/test_difficult.jpg"> &lt;img src="http://comm563.files.wordpress.com/2011/03/test_difficult.jpg" alt="External Image" />&lt;/a>&lt;/p>
&lt;p>Maybe I&amp;rsquo;m wrong but in my opinion it is difficult to explain DDD with classic examples like Orders&amp;lt;-&amp;gt;products&amp;lt;-&amp;gt;Customers or similar examples. In Italy DDD is still not know by many people and there is the need to make them aware of the real reason behind OOP. What I usually see during a DDD talk are people in the room that had already implemented Order/products/customer concept several times in their life; this lead them to compare the DDD approach to the ones they used in the past to understand if they can benefit from it. Since most people usually proceed with database first approach, they absolutely does not understand the reason behind concepts like CQRS, or an approach based on OOP. The result is that quite all the question are on the data layer (orm, transaction, etc) and little or no question arise about OOP concepts like Patterns. Many people think the DDD approach is using an ORM to persist object in database.&lt;/p></description></item></channel></rss>