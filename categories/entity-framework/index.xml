<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Entity Framework on Codewrecks</title><link>https://www.codewrecks.com/categories/entity-framework/</link><description>Recent content in Entity Framework on Codewrecks</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 22 Jan 2014 20:00:37 +0200</lastBuildDate><atom:link href="https://www.codewrecks.com/categories/entity-framework/index.xml" rel="self" type="application/rss+xml"/><item><title>Inserting a Geography data in Sql Server with plain C SqlCommand</title><link>https://www.codewrecks.com/post/old/2014/01/inserting-a-geography-data-in-sql-server-with-plain-c-sqlcommand/</link><pubDate>Wed, 22 Jan 2014 20:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2014/01/inserting-a-geography-data-in-sql-server-with-plain-c-sqlcommand/</guid><description>Usually I access data with ORM like NHibernate or Entity Framework and resort to plain T-SQL only for reporting or manipulation of massive data, but yesterday I had to use some plain SQL to insert data in a table that has Geograpy column.
Figure 1: A table with geography data
If you use EF 5 you can simply declare the property of type DbGeography and everything is handled by Entity Framework for you.</description></item><item><title>Using SaveOrUpdate in Entity Framework</title><link>https://www.codewrecks.com/post/old/2013/12/using-saveorupdate-in-entity-framework/</link><pubDate>Fri, 20 Dec 2013 18:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2013/12/using-saveorupdate-in-entity-framework/</guid><description>This is a common question for people that used NHibernate before using EF. The problem is, I have an object and I do not want to care about if this is a new object that needs to be added for the first time to the database, or it is an object that needs update or if it was already attached to the context, etc. I want to call a single Upsert method called SaveOrUpdate and let the ORM takes care of the rest.</description></item><item><title>Entity Framework Code First and TPH Inheritance mapping</title><link>https://www.codewrecks.com/post/old/2013/11/entity-framework-code-first-and-tph-inheritance-mapping/</link><pubDate>Thu, 28 Nov 2013 08:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2013/11/entity-framework-code-first-and-tph-inheritance-mapping/</guid><description>The major pain when you switch from two similar tools (from NH to EF in this specific scenario) is that you need to learn again how to obtain the same results, but in a different way. Yesterday I was mapping a hierarcy of objects in Entity Framework, I’ve a scenario where Table Per Type was the right solution and I’ve managed to create the fluent mapping in really short time, but when it was time to use Table Per Hierarchy the situation got worse.</description></item><item><title>Entity Framework error Some part of your SQL statement is nested too deeply</title><link>https://www.codewrecks.com/post/old/2013/10/entity-framework-error-some-part-of-your-sql-statement-is-nested-too-deeply/</link><pubDate>Wed, 02 Oct 2013 16:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2013/10/entity-framework-error-some-part-of-your-sql-statement-is-nested-too-deeply/</guid><description>Today a colleague told me that he got a strange Entity Framework error
Some part of your SQL statement is nested too deeply. Rewrite the query or break it up into smaller queries
I immediately ask him what kind of huge and big query he was issuing to EF , but the answer is pretty simple.
Context.EntityName.Where(u =&amp;gt; listOfId.Any(s =&amp;gt; s.Equals(u.UserId))).ToList()
and listOfId is a List&amp;lt;Int32&amp;gt; with 100 integer</description></item><item><title>Entity framework and Table splitting with Code First</title><link>https://www.codewrecks.com/post/old/2013/08/entity-framework-and-table-splitting-with-code-first/</link><pubDate>Wed, 28 Aug 2013 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2013/08/entity-framework-and-table-splitting-with-code-first/</guid><description>Nhibernate supports lazy loading for single properties and this solves perfectly the situation where a table has on or more field with a lot of data and you absolutely need to avoid loading all that data each time you load the entity. Basically with NH you can define Lazy Properties and the content of that property is loaded from the database only if you access it.
Entity framework does not supports this feature, but it can solve this scenario with Table Splitting, as described by Julie Lerman.</description></item><item><title>Entity Framework 5 First Steps-Mapping</title><link>https://www.codewrecks.com/post/old/2012/09/entity-framework-5-first-stepsmapping/</link><pubDate>Thu, 27 Sep 2012 09:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/09/entity-framework-5-first-stepsmapping/</guid><description>In previous article I’ve explained how simple is starting to use EF5 to access a database and use Database-Migrations to create a database suitable to contain your entities (with a simple Update-Command from the package manager console). When you show this technique to programmers the first complain they have is “ the structure of the generated tables is not suitable to me ”.
Figure 1: Database generated with previous code example</description></item><item><title>Entity Framework 50 first steps and impressions</title><link>https://www.codewrecks.com/post/old/2012/09/entity-framework-5-0-first-steps-and-impressions/</link><pubDate>Tue, 25 Sep 2012 08:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/09/entity-framework-5-0-first-steps-and-impressions/</guid><description>I’m mostly a NHibernate user, but EF code first approach is intriguing, especially in situation where the customer prefer to use only Microsoft Stack libraries , thus EF 5.0 is a good approach to write quickly an Efficient data access module in really few clicks. Enabling EF5 on your own project is as simple as adding a reference with Nuget, go to package manager and type install-package EntityFramework
and the game is done.</description></item><item><title>Entity Framework error 3002 on views when model updated</title><link>https://www.codewrecks.com/post/old/2012/01/entity-framework-error-3002-on-views-when-model-updated/</link><pubDate>Wed, 25 Jan 2012 09:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/01/entity-framework-error-3002-on-views-when-model-updated/</guid><description>One of the most annoying problem with the first version of entity Framework is that you have barely no option other than go with “Database First approach”, and when you start mapping database views your life started to become difficult.
The first obvious problem is that the designer, during the import phase from database, try to detect in the view any not-null column and make it part of the primary key of the entity.</description></item><item><title>Entity Framework 41 8211 Querying objects</title><link>https://www.codewrecks.com/post/old/2011/07/entity-framework-4-1-querying-objects/</link><pubDate>Tue, 19 Jul 2011 14:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/07/entity-framework-4-1-querying-objects/</guid><description>Part 1: First Steps
Part 2: Managing Relations
Part 3: Collection Relations
In the first three parts of this little tutorial I showed how easy is to save objects to database with EF 4.1 code first approach, now it is time to understand how to retrieve objects from the database.
Querying objects from database is really easy in EF, because you have full LINQ support; as an example suppose you want to retrieve all warriors with a name that contains a particular search string.</description></item><item><title>Entity Framework 41-Collection Relations</title><link>https://www.codewrecks.com/post/old/2011/07/entity-framework-4-1collection-relations/</link><pubDate>Wed, 13 Jul 2011 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/07/entity-framework-4-1collection-relations/</guid><description>Part 1: First Steps
Part 2: Managing Relations
Relations between objects are not limited to an object that keep a reference to another object (as seen in part 2), but I can have an object that contains a list of other objects. This is the classic RDBMS rough equivalent of the One-To-Many relation. I decided that my Warrior can carry a certain number of items, so I defined an Item class and a property on Warrior class to hold reference to a list of Items.</description></item><item><title>Entity Framework 41 managing relations</title><link>https://www.codewrecks.com/post/old/2011/07/entity-framework-4-1-managing-relations/</link><pubDate>Tue, 12 Jul 2011 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/07/entity-framework-4-1-managing-relations/</guid><description>Part 1: First Steps
In previous post I showed how you can persist an object to the database thanks to EF41 and few lines of code, now it is time to understand how to manage relations. First of all create another class called weapon and then create a property of type Weapon into the Warrior class.
Figure 1: New model, the warrior has a property called ActiveWeapon of type Weapon</description></item><item><title>Entity Framework 41 first steps</title><link>https://www.codewrecks.com/post/old/2011/07/entity-framework-4-1-first-steps/</link><pubDate>Mon, 11 Jul 2011 13:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/07/entity-framework-4-1-first-steps/</guid><description>I use NHibernate since its first versions and I really love it :), but after Entity Framework 4.1 is out, I started to consider using EF for people that actually does know anything of ORM and still work with dataset or use handwritten SQL CRUD, but could not use open source project or prefer using MS technologies.
I tend not to agree with this path, but sometimes it is easier to tell people, hey, just install this update of Microsoft and you can use EF code first, or if you want a designer you can simple add a new EF Model to the project.</description></item><item><title>Entity Framework a super dataset</title><link>https://www.codewrecks.com/post/old/2011/06/entity-framework-a-super-dataset/</link><pubDate>Thu, 09 Jun 2011 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/06/entity-framework-a-super-dataset/</guid><description>Entity Framework is quite a good product, but in my opinion still misses some point to be called an ORM. I must admit that I never used the 4.1 Code first in real project, but there are some stuff that still does not convince me when using EF.
When I decide to use EF (and not NH) Sometimes I need to access small legacy databases to do a small amount of operations and I must admit that adding a EF Model from Visual Studio is a matter of seconds and the LINQ provider of EF is quite good so it is a valuable alternative to create a quick DAL.</description></item><item><title>Mapping private properties with EF 41 RC and Fluent mapping</title><link>https://www.codewrecks.com/post/old/2011/03/mapping-private-properties-with-ef-4-1-rc-and-fluent-mapping/</link><pubDate>Mon, 21 Mar 2011 19:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/03/mapping-private-properties-with-ef-4-1-rc-and-fluent-mapping/</guid><description>EF 4.1 is now in RC phase and as a NHibernate user I&amp;rsquo;m curious to check the fluent API to map entities to database. One of the feature that I and Andrea miss most is the possibility to map private properties with fluent interface. It seems strange to map private properties at once, but it can be useful in DDD. Suppose you have these simple classes.
Figure 1: A really simple domain</description></item><item><title>Do you ORM</title><link>https://www.codewrecks.com/post/old/2010/11/do-you-orm/</link><pubDate>Fri, 05 Nov 2010 19:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/11/do-you-orm/</guid><description>I really believe that I could not live anymore without ORM, and this is one simple reason.
Suppose in NorthWind you should query for all Customers that have at least four orders where the total discount is greater than 100.
Figure1: LINQ query to select all customers that have at least three orders with total discount greater than 100
Doing this in EF with a LINQ query is really simple (Figure 1), because you can express it with condition on the object model, and you can use the Count() LINQ operator and calculate the discount with simple math.</description></item><item><title>A dto factory code generator with visual studio T4</title><link>https://www.codewrecks.com/post/old/2009/06/a-dto-factory-code-generator-with-visual-studio-t4/</link><pubDate>Wed, 24 Jun 2009 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/06/a-dto-factory-code-generator-with-visual-studio-t4/</guid><description>Data Transfer Objects, best known as Dto, are an essential part of projects that uses services or Domain Model. Dto are great, but the disadvantage is that maintaining Dto objects is a pain, because they are composed by repetitive code, and you have no fun in writing them.
Since building a Dto is a mechanical process it is better to use a code generation tool to generate them with little effort.</description></item><item><title>Entity Framework dynamic sorting and pagination</title><link>https://www.codewrecks.com/post/old/2009/03/entity-framework-dynamic-sorting-and-pagination/</link><pubDate>Sat, 21 Mar 2009 01:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/03/entity-framework-dynamic-sorting-and-pagination/</guid><description>Suppose you need to paginate and letting the user choose the sort field in entity framework, lets see how you can accomplish this.
In EntityFramework you can query with E-SQL both building a query in string format, but also using standard method syntax, here is an example (based on NorthWind)
1 2 3 var query = context.Customers .OrderBy(&amp;#34;it.ContactTitle&amp;#34;); query.Dump(); This work perfectly, you can sort dynamically only specifying the property you want to use for sorting.</description></item><item><title>Manage Trees with entity framework</title><link>https://www.codewrecks.com/post/old/2009/02/manage-trees-with-entity-framework/</link><pubDate>Fri, 27 Feb 2009 02:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/02/manage-trees-with-entity-framework/</guid><description>Quite often you need to store in database Hierarchical structure that are logically represented by a tree. There are a lot of techniques around there, but one of the most common is using a simple foreign key that refers to the same table, as in the following example
If you map this table with entity framework you will obtain automatically a tree structure, you only need to rename the Relationship field because they are named Employee and Employee1, I renamed them in Parent and Childs , because the resulting in-memory structure is clearer</description></item><item><title>Extension method to add LoadByKey to EntityFrameworks context</title><link>https://www.codewrecks.com/post/old/2009/02/extension-method-to-add-loadbykey-to-entityframeworks-context/</link><pubDate>Wed, 18 Feb 2009 05:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/02/extension-method-to-add-loadbykey-to-entityframeworks-context/</guid><description>In previous post I left to the reader the task to build a LoadByKey extension method to make it easy loading entities by key in project with entity framework, I think that is quite interesting to spent a little bit on in. First of all I suggest you to read this post about metadata and Entity Framework, this post suggested me this solution.
1 2 3 4 5 6 7 8 9 10 11 12 13 1 public static T LoadByKey&amp;lt;T&amp;gt;(this ObjectContext context, params Object[] keyValue) 2 { 3 EntityType type = (from meta in context.</description></item><item><title>Entity Framework relations and entityKey</title><link>https://www.codewrecks.com/post/old/2009/02/entity-framework-relations-and-entitykey/</link><pubDate>Wed, 18 Feb 2009 04:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/02/entity-framework-relations-and-entitykey/</guid><description>Suppose you generate an Entity Framework model on standard northwind database, you have a customer id and you want to generate an order for that customer. A possible solution is
1 2 3 4 5 6 7 8 9 10 using (ModelTestBase context = new ModelTestBase()) { Orders order = new Orders(); order.Freight = 1.0M; order.RequiredDate = order.OrderDate = DateTime.Now; order.Customers = context.Customers.Where(c =&amp;gt; c.CustomerID == &amp;#34;ALFKI&amp;#34;).First(); context.AddToOrders(order); context.SaveChanges(); } This code is perfectly valid, but is not the smartest thing to do, if you analyze traffic with profiler you can verify that this code executes a select to retrieve the customer, and then inserts the order into orders table.</description></item></channel></rss>