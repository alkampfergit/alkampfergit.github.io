<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Software Architecture on Codewrecks</title><link>https://www.codewrecks.com/categories/software-architecture/</link><description>Recent content in Software Architecture on Codewrecks</description><generator>Hugo</generator><language>en</language><lastBuildDate>Sat, 12 May 2012 06:00:37 +0200</lastBuildDate><atom:link href="https://www.codewrecks.com/categories/software-architecture/index.xml" rel="self" type="application/rss+xml"/><item><title>Misusing an ORM</title><link>https://www.codewrecks.com/post/old/2012/05/misusing-an-orm/</link><pubDate>Sat, 12 May 2012 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/05/misusing-an-orm/</guid><description>&lt;p>I’ve blogged some time ago that I’m starting to &lt;a href="http://www.codewrecks.com/blog/index.php/2011/10/27/square-peg-in-a-round-hole/">consider ORM an Antipattern&lt;/a>, and recently Mr Fowler &lt;a href="http://martinfowler.com/bliki/OrmHate.html">posted similar thoughts&lt;/a> in his bliki, moreover I have the pleasure to be one of the organizer of the &lt;a href="http://ravendb.net/events/82/3-days-ravendb-training-in-italy">first RavenDB official Course in Italy&lt;/a>, with my dear friend &lt;a href="http://milestone.topics.it/">Mauro&lt;/a> as teacher.&lt;/p>
&lt;p>Since I’m strongly convinced that in a full OOP approach to problem &lt;strong>objects should not have nor setter nor getter&lt;/strong> , most of the work and complexities of an ORM is simply not needed, because you usually retrieve objects from the storage with only one function &lt;strong>GetById&lt;/strong> and nothing else. In my long experience with NHibernate, I verified that most of the problem arise when you need to &lt;strong>show data in UI in specific format and you start to write complex Query&lt;/strong> in HQL or ICRiteria or LINQ, then you need to spend time with NHProfiler to understand if the queries are good enough to run on production system and when objects changes a little bit &lt;strong>you need to rewrite a lot of code to suite the new Object Model.&lt;/strong> This last point is the real pain point in DDD, where you usually should create Object Model that will be manipulated a lot before reaching a good point, after all the main value of DDD approach is being able to create a dialog with a DOMAIN EXPERT and it is impossible to find a good Object Models at the first tentative. If refactoring a model become painful, you are not allowed to modify it with easy, you are going away from DDD approach.&lt;/p></description></item><item><title>Getting the list of Type associated to a given export in MEF</title><link>https://www.codewrecks.com/post/old/2012/05/getting-the-list-of-type-associated-to-a-given-export-in-mef/</link><pubDate>Tue, 08 May 2012 16:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/05/getting-the-list-of-type-associated-to-a-given-export-in-mef/</guid><description>&lt;ul>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/03/12/basic-request-response-wcf-service/">Basic Request Response WCF service&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/04/05/reson-behind-request-responseservice-in-wc/">Reason behind a request – response service in WCF&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/04/23/evolving-request-response-service-to-separate-contract-and-business-logic/">Evolving Request Response service to separate contract and business logic&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/05/08/how-to-instantiate-wcf-host-class-with-mef/">How to instantiate WCF host class with MEF&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>One of the problem I had to solve to make WCF and MEF live together,  is knowing all the types discovered by MEF at runtime for a given export. This information is really important because &lt;strong>I need the list of type that derived from Request and Response to inform WCF of all the KnownTypes available to the service.&lt;/strong> First of all let’s see how I initialized MEF engine&lt;/p></description></item><item><title>How to instantiate WCF host class with MEF</title><link>https://www.codewrecks.com/post/old/2012/05/how-to-instantiate-wcf-host-class-with-mef/</link><pubDate>Tue, 08 May 2012 16:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/05/how-to-instantiate-wcf-host-class-with-mef/</guid><description>&lt;ul>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/03/12/basic-request-response-wcf-service/">Basic Request Response WCF service&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/04/05/reson-behind-request-responseservice-in-wc/">Reason behind a request – response service in WCF&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/04/23/evolving-request-response-service-to-separate-contract-and-business-logic/">Evolving Request Response service to separate contract and business logic&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>I described in the last post of the series the structure behind the Request/Reponse service based on MEF, now it is time to explain how to make MEF and WCF happily live together. In the first version I hosted the service with these simple lines of code&lt;/p></description></item><item><title>Traffic light vNext</title><link>https://www.codewrecks.com/post/old/2012/05/traffic-light-vnext/</link><pubDate>Mon, 07 May 2012 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/05/traffic-light-vnext/</guid><description>&lt;ul>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2011/11/07/traffic-light-experiment/">TrafficLight Experiment.&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2011/11/08/advantage-of-ddd-approach-to-problem/">Advantage of DDD approach to the problem&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/01/30/traffic-light-say-goodbye-to-public-properties/">Traffic Light, say goodbye to public properties&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>It is a long time I did not post about simple &lt;strong>Traffic Light experiment&lt;/strong>. I’ve ended with a super simple Domain with no Getters and no Setters, but there is still something I really do not like about that sample and it is represented by this test.&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[Fact]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> When_both_semaphore_are_red_one_become_green()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//move all to yellow fixed&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">using&lt;/span> (DateTimeService.OverrideTimeGenerator(DateTime.Now.AddSeconds(&lt;span style="color:#ae81ff">1&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sut.Tick();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Clear();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//now move again to both red&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">using&lt;/span> (DateTimeService.OverrideTimeGenerator(DateTime.Now.AddSeconds(&lt;span style="color:#ae81ff">10&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sut.Tick();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Should().Have.Count.EqualTo(&lt;span style="color:#ae81ff">2&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.All(e =&amp;gt; e.NewStatus == LightColor.Red).Should().Be.True();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Clear();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">using&lt;/span> (DateTimeService.OverrideTimeGenerator(DateTime.Now.AddSeconds(&lt;span style="color:#ae81ff">1&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sut.Tick();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//only one semaphore should be go to green state&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Should().Have.Count.EqualTo(&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents[&lt;span style="color:#ae81ff">0&lt;/span>].NewStatus.Should().Be.EqualTo(LightColor.Green);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;p>This test is quite ugly and it requires some initialization code, contained in the constructor of the test class.&lt;/p></description></item><item><title>Evolving Request Response service to separate contract and business logic</title><link>https://www.codewrecks.com/post/old/2012/04/evolving-request-response-service-to-separate-contract-and-business-logic/</link><pubDate>Mon, 23 Apr 2012 11:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/04/evolving-request-response-service-to-separate-contract-and-business-logic/</guid><description>&lt;p>Example &lt;a href="http://www.codewrecks.com/Files/requestresponsemef.zip">&lt;strong>can be downloaded here&lt;/strong>&lt;/a> &lt;strong>.&lt;/strong> I previously described a scenario where the customer needs a &lt;a href="www.codewrecks.com/blog/index.php/2012/03/12/basic-request-response-wcf-service/">really basic Request Response service in WCF&lt;/a>, the goal is being able to take &lt;a href="http://www.codewrecks.com/blog/index.php/2012/04/05/reson-behind-request-responseservice-in-wc/">advantage of a request / response structure&lt;/a>, but with an approach like: “&lt;em>the simpliest thing that could possibly works&lt;/em>”. This technique is usually needed to &lt;strong>introduce new architectural concepts in a team&lt;/strong> without requiring people to learn a huge amount of concepts in a single shot, a scenario that could ends in a  team that actively * &lt;strong>fight the new architecture because it is too complex&lt;/strong> *.&lt;/p></description></item><item><title>Reason behind a request 8211 response service in WCF</title><link>https://www.codewrecks.com/post/old/2012/04/reson-behind-request-responseservice-in-wc/</link><pubDate>Thu, 05 Apr 2012 16:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/04/reson-behind-request-responseservice-in-wc/</guid><description>&lt;p>I dealt with a minimal implementation of a &lt;a href="http://www.codewrecks.com/blog/index.php/2012/03/12/basic-request-response-wcf-service/">basic Request Response WCF Service&lt;/a> some times ago, now it is time to show some advantages you have using this approach. If the caller is created in.NET technology, you can &lt;strong>directly reference&lt;/strong> &lt;strong>the dll that contains all Requests and responses&lt;/strong> , without the need to create a service reference in Visual Studio. In my example the service is called CoreService, so I created a CoreServiceClient class to implement communication from client to server.&lt;/p></description></item><item><title>Basic Request Response WCF service</title><link>https://www.codewrecks.com/post/old/2012/03/basic-request-response-wcf-service/</link><pubDate>Mon, 12 Mar 2012 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/03/basic-request-response-wcf-service/</guid><description>&lt;p>The concept of Request-Response service is to have an endpoint with a single function capable to handle a command (a Request) and return a Response, to have a single entry point of our service. There are a lot of architectures around the web based on WCF and this pattern and this &lt;a href="http://davybrion.com/blog/2009/11/requestresponse-service-layer-series/">old series of post are a really good example&lt;/a> on how you can implement it in practice.&lt;/p>
&lt;p>The only drawback is that sometimes these architectures are quite complex for the average programmer, at least you can introduce them in a team where everyone is quite familiar with concept of Inversion Of Control, Dependency Injection, etc etc. The risk is that people are scared about the complexity and they start to believe that the benefit of such an architecture does not worth the extra complexity of the code, after all with WCF you can simply create a function on the interface, an implementation on a service class, update service reference and the game is done. On the contrary, some implementations of Request/Response pattern are quite complicated, you need to create a request, then the handler, then configure the IoC engine, etc etc.&lt;/p></description></item><item><title>Getters are an antipattern</title><link>https://www.codewrecks.com/post/old/2011/12/getters-are-an-antipattern/</link><pubDate>Fri, 16 Dec 2011 19:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/12/getters-are-an-antipattern/</guid><description>&lt;p>When you realize that &lt;a href="http://www.codewrecks.com/blog/index.php/2011/10/20/protect-the-status-of-your-entities/">property setters is an antipattern&lt;/a>, because you want to protect the status of your entity from direct external manipulation, the next step is starting to believe that even Getters can be considered an Antipattern.&lt;/p>
&lt;p>This is some sort of extreme object oriented thinking, because getters does not modify the status of an object, so there is nothing evil in them… or not? If you look for the definition of Encapsulation from Wikipedia you can find this:&lt;/p></description></item><item><title>Using a state object to store object property values</title><link>https://www.codewrecks.com/post/old/2011/11/using-a-state-object-to-store-object-property-values/</link><pubDate>Tue, 29 Nov 2011 18:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/11/using-a-state-object-to-store-object-property-values/</guid><description>&lt;p>In an &lt;a href="http://www.codewrecks.com/blog/index.php/2011/06/13/leverage-the-concept-of-state-of-your-entities/">old post&lt;/a> I dealt with a possible implementation of a BaseEntity class that stores all properties in a State object (based on a dictionary to store properties). Technically speaking, this solution have no drawbacks respect using field variables to store properties values, but it can give a lot of benefit. If you see the object from the outside, it presents a bunch of properties and thanks to encapsulation you can use the technique you prefer to store the real data inside the object. This approach has some drawbacks, first of all accessing the value of a property can be slower, because you need to find the value inside a dictionary instead of reading directly from a memory location (the field value). Another drawback is that I use the property names as dictionary keys, so you waste more memory to store the keys of the state dictionary, but you can limit this problem using &lt;a href="http://en.wikipedia.org/wiki/String_interning">string interning&lt;/a>.&lt;/p></description></item><item><title>Square peg in a round Hole</title><link>https://www.codewrecks.com/post/old/2011/10/square-peg-in-a-round-hole/</link><pubDate>Thu, 27 Oct 2011 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/10/square-peg-in-a-round-hole/</guid><description>&lt;p>After lots of year working with NHibernate I started to think that probably the whole concept of ORM can be considered an Antipattern. Some people prefer a “classic” approach to the problem, * &lt;strong>data&lt;/strong> *is the key concept and most of the logic is inside a storage based on &lt;a href="http://en.wikipedia.org/wiki/Relational_model">Relational Model&lt;/a>.&lt;/p>
&lt;p>Is this wrong?&lt;/p>
&lt;p>Absolutely not, after all, for many years this was the preferred way to structure your application, and it worked quite well, but after OOP has come to life, a lot of people started appreciating this new paradigm of programming and started to think in terms of “ &lt;strong>objects&lt;/strong> ” instead of “ &lt;strong>data&lt;/strong> ”.&lt;/p></description></item><item><title>Again on TimeGrowingResource</title><link>https://www.codewrecks.com/post/old/2011/09/again-on-timegrowingresource/</link><pubDate>Fri, 09 Sep 2011 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/09/again-on-timegrowingresource/</guid><description>&lt;p>In the last post I explained how I resolved the problem of Time Growing Resources in my hypothetical role playing game. The advantage of using an OOP approach is that you can think without data in mind and you can identify * &lt;strong>entities&lt;/strong> *that represents a single concept in a given * &lt;strong>BOUNDED CONTEXT&lt;/strong> *an approach that leads to simpler code and models.&lt;/p>
&lt;p>Suppose that we want to add other logic to the &lt;em>TimeGrowingResource&lt;/em> class, first of all we want to be able to change the rate of growing, so we write this simple test.&lt;/p></description></item><item><title>Is there a reason to put restriction on password</title><link>https://www.codewrecks.com/post/old/2011/08/is-there-a-reason-to-put-restriction-on-password/</link><pubDate>Fri, 12 Aug 2011 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/08/is-there-a-reason-to-put-restriction-on-password/</guid><description>&lt;p>I&amp;rsquo;ve stumbled upon &lt;a href="http://xkcd.com/936/">this funny comic&lt;/a>&lt;/p>
&lt;p>&lt;a target="_blank" href="http://imgs.xkcd.com/comics/password_strength.png"> &lt;img src="http://imgs.xkcd.com/comics/password_strength.png" alt="External Image" />&lt;/a>&lt;/p>
&lt;p>I usually use long Random generated password, that I store in &lt;a href="http://keepass.info/">KeePass&lt;/a> for all services that I really care about, (home banking, amazon account that has my credit card, etc), and tend to use easy to remember password for services I do not care very much (stupid online games, or stuff like that).&lt;/p>
&lt;p>This funny comics suggests that choosing some four random common words can be a viable solution (complex to guess, but easy to remember), but sadly enough some online services does not permits you to use long password, or password that use special chars etc. My online banks forced me to choose a 10 digit number as the password o_O, another online service told me to use a password between 6 and 18 chars, but only letters, numbers are allowed, Another one forced me to use at leas one uppersize, and one digit, but limits the length to 20 chars, etc etc. My question is **why in the hell a service should limit my possibilities to choose a password I like?&lt;em>.&lt;/em>&lt;/p></description></item><item><title>Intercept Log4Net message in a Windows application</title><link>https://www.codewrecks.com/post/old/2011/05/intercept-log4net-message-in-a-windows-application/</link><pubDate>Wed, 11 May 2011 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/05/intercept-log4net-message-in-a-windows-application/</guid><description>&lt;p>Scenario: I have some service that runs in the background, but I want the user to be able to launch interactively with a  windows form application and I want to intercept all log4net messages issued by the various components that works in the background.&lt;/p>
&lt;p>Thanks to the supereasy way to write an appender in log4net, obtaining this result is really simple..&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Log4NetLogEventSourceAppender&lt;/span> : AppenderSkeleton
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span> Object _syncRoot;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> Log4NetLogEventSourceAppender()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>_syncRoot = &lt;span style="color:#66d9ef">new&lt;/span> &lt;span style="color:#66d9ef">object&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">/// &amp;lt;summary&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">/// Occurs when [on log].&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">/// &amp;lt;/summary&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">event&lt;/span> EventHandler&amp;lt;OnLog4NetLogEventArgs&amp;gt; OnLog;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">protected&lt;/span> &lt;span style="color:#66d9ef">override&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Append(LoggingEvent loggingEvent)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>EventHandler&amp;lt;OnLog4NetLogEventArgs&amp;gt; temp = OnLog;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span> (temp != &lt;span style="color:#66d9ef">null&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">lock&lt;/span> (_syncRoot)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>temp(&lt;span style="color:#66d9ef">null&lt;/span>, &lt;span style="color:#66d9ef">new&lt;/span> OnLog4NetLogEventArgs(loggingEvent));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">OnLog4NetLogEventArgs&lt;/span> : EventArgs
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> LoggingEvent LoggingEvent { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> OnLog4NetLogEventArgs(LoggingEvent loggingEvent)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>LoggingEvent = loggingEvent;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;p>This is a quick and dirty approach, a _syncRoot object will serialize all events because this is a shared event I want to prevent multiple threads to messup logging. Thanks to the shared event you can simply add this appender to the list of enabled appender.&lt;/p></description></item><item><title>Lifecycle of singleton objects</title><link>https://www.codewrecks.com/post/old/2011/05/lifecycle-of-singleton-objects/</link><pubDate>Fri, 06 May 2011 08:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/05/lifecycle-of-singleton-objects/</guid><description>&lt;p>Some days ago I blogged about an implementation of persistent cache component based on Managed Esent and &lt;a href="http://managedesent.codeplex.com/wikipage?title=PersistentDictionaryDocumentation">PersistentDictionary&lt;/a>. This component is injected into other components thanks to Inversion of Control and it is a &lt;em>&lt;a href="http://en.wikipedia.org/wiki/Singleton_pattern">Singleton&lt;/a>&lt;/em> object.&lt;/p>
&lt;p>&lt;a target="_blank" href="http://zenit.senecac.on.ca/wiki/imgs/Singleton_UML.png"> &lt;img src="http://zenit.senecac.on.ca/wiki/imgs/Singleton_UML.png" alt="External Image" />&lt;/a>&lt;/p>
&lt;p>Being a singleton is a requisite because it permits to different dependent objects to share the same cache, moreover &lt;em>PersistentDictionary&lt;/em> does not permit to have multiple instances that insists on the same directory. This will make EsentCache a perfect candidate of Singleton Object Pattern. Now another dilemma arise, &lt;em>since PersistentDictionary implements IDisposable to flush all resources into disk, who will call Dispose on a Singleton object?&lt;/em>&lt;/p></description></item><item><title>Persistent cache management with Managed Esent</title><link>https://www.codewrecks.com/post/old/2011/05/persistent-cache-management-with-managed-esent/</link><pubDate>Mon, 02 May 2011 08:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/05/persistent-cache-management-with-managed-esent/</guid><description>&lt;p>I have a program where components could depend from cache, implemented by ICache interface.&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2011/04/image14.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2011/04/image_thumb14.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2011/04/image_thumb14.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>I have really different types of cache, for data that needs to be temporary stored in memory I use a cache component based on enterprise library, but there are components that logically needs a cache that will survive after the process will exit.&lt;/p>
&lt;p>The first and obvious solution was to create a very simple component that stores cache data on application database, this is especially useful because program running from different computer could share the same cache with no problem. (program was born when &lt;a href="http://www.hanselman.com/blog/InstallingConfiguringAndUsingWindowsServerAppFabricAndTheVelocityMemoryCacheIn10Minutes.aspx">Velocity&lt;/a> still not exists, and we decided to keep everything really simple)&lt;/p></description></item><item><title>Message to users should be useful</title><link>https://www.codewrecks.com/post/old/2010/08/message-to-users-should-be-useful/</link><pubDate>Wed, 18 Aug 2010 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/08/message-to-users-should-be-useful/</guid><description>&lt;p>There are a lot of rules for usability of User Interface, and one of the most important one is not to clutter the user with strange error messages. Since the last update of skype, sometimes when I&amp;rsquo;m chatting with someone a &lt;em>really useful&lt;/em> message box appears.&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2010/08/image5.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2010/08/image_thumb3.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2010/08/image_thumb3.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>This windows does not communicate nothing to the user, moreover if you click ok nothing happens&amp;hellip; skype continue to work with no problem. This design violates some best practice of the UI.&lt;/p></description></item><item><title>Cache layer</title><link>https://www.codewrecks.com/post/old/2010/07/cache-layer/</link><pubDate>Wed, 07 Jul 2010 11:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/07/cache-layer/</guid><description>&lt;p>Thanks to AOP concept, creating a cache layer that is transparent to the caller is not a big deal. I have a piece of code that in a loop calls this method&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>ClientCompetitor competitor = Repository.ClientCompetitor.GetByCriteria(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Query.CreateEq(&lt;span style="color:#e6db74">&amp;#34;AssociatedClient&amp;#34;&lt;/span>, clieid))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>.SingleOrDefault();&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;p>This is based on a standard implementation of repository and a &lt;a href="http://en.wikipedia.org/wiki/Specification_pattern">Specification Pattern&lt;/a> as a query model. With &lt;a href="http://nhprof.com/">nhibernate profiler&lt;/a> I see that during the execution of this task, a lot of identical query are issued, because it gets called around 1000 times always with the same clieid.&lt;/p></description></item><item><title>Writing windows services smoke test form</title><link>https://www.codewrecks.com/post/old/2009/12/writing-windows-services-smoke-test-form/</link><pubDate>Wed, 16 Dec 2009 17:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/12/writing-windows-services-smoke-test-form/</guid><description>&lt;p>I work often with windows services, and one of the most painfully experience is that you do not have an UI and quite often they have to do some scheduled task at certain time, so whenever you have a deploy you can find yourself in this situation.&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2009/12/image15.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2009/12/image_thumb15.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2009/12/image_thumb15.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>The question mark means that you are not sure if your new deploy is really ok, because maybe some of the scheduled tasks will fail for misconfiguration or something else. Usually production machine are different to developement ones, you can miss components, point to a wrong db, forget to update configuration, etc, etc. To avoid this situation you need a series of smoke checks, I usually proceed in this way.&lt;/p></description></item><item><title>Wise architects</title><link>https://www.codewrecks.com/post/old/2009/12/wise-architects/</link><pubDate>Wed, 09 Dec 2009 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/12/wise-architects/</guid><description>&lt;p>Software architects are similar to civil architects, both of them work to create an artifact (software or building) on paper that will be subsequent realized. If you are committed to make a project of a building, witch of them you will like more to create?&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2009/12/image9.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2009/12/image_thumb9.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2009/12/image_thumb9.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2009/12/image10.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2009/12/image_thumb10.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2009/12/image_thumb10.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>I&amp;rsquo;m sure that the first one is probably the first choice, for many reasons. It is more challenging, it will probably make you famous, it is surely more beautiful. The problem is that those two buildings are really different in use. The first can be a congress center, a museum, but the other one is a simple house for a standard family. The problem arise if a customer ask you for &lt;em>an house for me and my family&lt;/em> and you will give him the project to build the first one&amp;hellip; probably it is not the expected result, from the perspective of the customer.&lt;/p></description></item><item><title>Automatic deployment of a web application with TFS Build</title><link>https://www.codewrecks.com/post/old/2009/10/automatic-deployment-of-a-web-application-with-tfs-build/</link><pubDate>Fri, 23 Oct 2009 09:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/10/automatic-deployment-of-a-web-application-with-tfs-build/</guid><description>&lt;p>When you develop web applications you usually have X developers solving bugs and implementing features, and a series of testers that test application during developing process. A must to have requirement is that&lt;/p>
&lt;ol>
&lt;li>Modifications to the trunk are visible as soon as possible to testers.&lt;/li>
&lt;li>Data in test database gets preserved&lt;/li>
&lt;/ol>
&lt;p>Point 2 is especially important, testers usually work with the site and fills database with data. Suppose that tester John find a bug that occurs only with specific data, a developer correct the bug, then a deploy is done, all test data are wiped away, and the tester is not able to verify if the bug is gone.&lt;/p></description></item><item><title>Branching policies</title><link>https://www.codewrecks.com/post/old/2009/09/branching-policies/</link><pubDate>Tue, 15 Sep 2009 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/09/branching-policies/</guid><description>&lt;p>I just read &lt;a href="http://martinfowler.com/bliki/FeatureBranch.html">this post&lt;/a> of &lt;a href="http://martinfowler.com">Martin Fowler&lt;/a>, and I found it very interesting. In my opinion, even small projects will greatly benefit from &lt;a href="http://martinfowler.com/articles/continuousIntegration.html">Continuous Integration&lt;/a>. Despite of the Branching policies that you choose, having a machine for CI is vital during the lifetime of a project.&lt;/p>
&lt;p>Usually I do not like very much &lt;a href="http://chestofbooks.com/computers/revision-control/subversion-svn/Cherrypicking-Branchmerge-Cherrypicking.html">CherryPicking&lt;/a> even if sometimes it cannot be avoided. In the Promiscuous Integration model, people are doing CherryPicking from other branches and this scares me. The purpose of a branch is to keep changes isolated until they are ready to be moved in the trunk, or to keep copies of specific version of the software, and usually merging between branches can be problematic. Some Source control system do not permit to merge changes between branches that are not contiguous.&lt;/p></description></item><item><title>Writing modular software with castle</title><link>https://www.codewrecks.com/post/old/2009/09/writing-modular-software-with-castle/</link><pubDate>Mon, 14 Sep 2009 09:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/09/writing-modular-software-with-castle/</guid><description>&lt;p>Thanks to &lt;a href="http://www.google.it/url?sa=t&amp;amp;amp;source=web&amp;amp;amp;ct=res&amp;amp;amp;cd=1&amp;amp;amp;url=http%3A%2F%2Fwww.castleproject.org%2Fcontainer%2Findex.html&amp;amp;amp;ei=wmKqStPfLIuwsAbHhZjkBw&amp;amp;amp;usg=AFQjCNFGZtGw-ordWFZS86FEFPnx-S_Jtg&amp;amp;amp;sig2=G6cxIH_hY5aZJ93egyGxEw">Castle Windsor&lt;/a> you can write really modular software. I&amp;rsquo;m building a project in WinForm that needs to access the domain model through a service layer on a WS* service. One of the most annoying stuff is the need to setup a local service to test the application and the interface.&lt;/p>
&lt;p>The key to speedup development is writing high modular software, thanks to castle this is really simple. First of all I use &lt;a href="http://www.nablasoft.com/guardian/index.php/2009/06/08/unity-wcf-service-resolution-container-extension/">guardian facility&lt;/a> to create proxy. This permits me to decide with configuration file if a service interface must be resolved with a proxy, or with a real class. This gives you immense flexibility.&lt;/p></description></item><item><title>Dto generator and repository integration</title><link>https://www.codewrecks.com/post/old/2009/07/dto-generator-and-repository-integration/</link><pubDate>Fri, 31 Jul 2009 02:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/07/dto-generator-and-repository-integration/</guid><description>&lt;p>I have a project where I use repository pattern, interface code access domain object through a service, and the service return Dto. One of the bad side of the dto is that they are boring to write and to maintain. The main risk is that developers does this error&lt;/p>
&lt;p>Mmmm I had to show a combo with all the typologies of the current customer, let me seee, I have already a service that return Typlogy object given the customer Id, ok I&amp;rsquo;ll use it. Can you spot the error???&lt;/p></description></item><item><title>Value of architecture</title><link>https://www.codewrecks.com/post/old/2009/07/value-of-architecture/</link><pubDate>Tue, 28 Jul 2009 03:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/07/value-of-architecture/</guid><description>&lt;p>If I have to tell what is the main property of a good architecture, I surely will answer that a good architecture centralize common operations and make simple to extend the application.&lt;/p>
&lt;p>Here is a typical example. I have a WCF services called from external clients, but I use the same service inside my organization. I created a little WPF project that needs to use services functions, but since this program is run internally, I do not want it to pass in the WCF stack, but I simply want to use concrete services classes that access the database.&lt;/p></description></item><item><title>A better version of dtofactory</title><link>https://www.codewrecks.com/post/old/2009/07/a-better-version-of-dtofactory/</link><pubDate>Tue, 07 Jul 2009 00:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/07/a-better-version-of-dtofactory/</guid><description>&lt;p>In &lt;a href="http://www.codewrecks.com/blog/index.php/2009/06/24/a-dto-factory-code-generator-with-visual-studio-t4/">this post&lt;/a> I dealt with a primitive version of a T4 template to generate dto starting from domain objects. In these days I had little time to improve it a little bit, and I created a simple test project to verify some of the basic functionality.&lt;/p>
&lt;p>Usage of the T4 template is really simple, I&amp;rsquo;ve created in the test project an Entity Factory model to the ubiquitous northwind database, then I added a OrderDto.tt file to the project with this content.&lt;/p></description></item><item><title>Design UI First</title><link>https://www.codewrecks.com/post/old/2009/07/design-ui-first/</link><pubDate>Mon, 06 Jul 2009 05:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/07/design-ui-first/</guid><description>&lt;p>Some days ago we have a question on the possibility to have a &lt;em>&lt;a href="http://www.guisa.org/forums/t/182.aspx">Design UI first&lt;/a>&lt;/em> approach to a project. (the forum post is in Italian). If you asked me this question some years ago, I surely have answered &lt;em>Probably not&lt;/em>. I must admit that I always thought that some people gave too many importance to the UI. Quite often Project managers are the kind of people that always ask for impressive interface to show to final customers, while we, as programmers, tend to spent more attention to the &lt;em>code part&lt;/em> of the project, and usually do not care about UI. After all where is the pride in putting some labels and textboxes in a form respect in designing a well crafted Domain Model with ORM and AOP etc etc.&lt;/p></description></item><item><title>Team foundation Build - Share Builds among multiple servers</title><link>https://www.codewrecks.com/post/old/2009/06/team-foundation-build-share-builds-among-multiple-servers/</link><pubDate>Thu, 25 Jun 2009 12:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/06/team-foundation-build-share-builds-among-multiple-servers/</guid><description>&lt;p>When you begin to use Team Foundation Server, you will create different builds for all of your company&amp;rsquo;s projects. Since building complex products can be resource intensive, it is likely that your Team Foundation Server machine starts to perform slowly. This is a typical issue of Continuous integration servers, since they compile projects at each check-in you will end with a lot of builds and a lot of work to do.&lt;/p></description></item><item><title>A dto factory code generator with visual studio T4</title><link>https://www.codewrecks.com/post/old/2009/06/a-dto-factory-code-generator-with-visual-studio-t4/</link><pubDate>Wed, 24 Jun 2009 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/06/a-dto-factory-code-generator-with-visual-studio-t4/</guid><description>&lt;p>&lt;a href="http://en.wikipedia.org/wiki/Data_Transfer_Object">Data Transfer Objects&lt;/a>, best known as Dto, are an essential part of projects that uses services or Domain Model. Dto are great, but the disadvantage is that maintaining Dto objects is a pain, because they are composed by repetitive code, and you have no fun in writing them.&lt;/p>
&lt;p>Since building a Dto is a mechanical process it is better to use a code generation tool to generate them with little effort. If you work with visual studio 2008 the best choice in Code Generator is T4, because it is included in Visual Studio and is really good. I do not want to cover T4 syntax, because you can find tons of information following &lt;a href="http://www.hanselman.com/blog/T4TextTemplateTransformationToolkitCodeGenerationBestKeptVisualStudioSecret.aspx">this post links&lt;/a>.&lt;/p></description></item><item><title>Plan for change</title><link>https://www.codewrecks.com/post/old/2009/06/plan-for-change/</link><pubDate>Mon, 15 Jun 2009 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/06/plan-for-change/</guid><description>&lt;p>Here is a possible dialog between Customer/PM/Analyst and a programmer&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2009/06/image7.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2009/06/image-thumb7.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2009/06/image-thumb7.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>Developers usually end with one or more of those thought&lt;/p>
&lt;ol>
&lt;li>Analyst is a moron, he did a bad job not finding the real requirement of the customer&lt;/li>
&lt;li>Customer are stupid because they does not know what they want, they are constantly changing requirements.&lt;/li>
&lt;li>We lack requirement gathering phase, now we must loose time following desires of Analyst/Customer&lt;/li>
&lt;/ol>
&lt;p>Finally the programmer complains a lot about too much code to change, and how is painful working in an environment where noone is able to catch the real requirement of the customer.&lt;/p></description></item><item><title>Maintain integrity in NHibernate bidirectional association</title><link>https://www.codewrecks.com/post/old/2009/05/maintain-integrity-in-nhibernate-bidirectional-association/</link><pubDate>Tue, 05 May 2009 05:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/05/maintain-integrity-in-nhibernate-bidirectional-association/</guid><description>&lt;p>Using Bidirectional Associations in nhibernate can be tricky, the problem is that you need to manage associations for both ends. This is really important: suppose you have a class called Parent with a collection of childs called Childs, and a child class with a property called Parent; if you expose these two property to the user, you can write this&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>Parent John = &lt;span style="color:#66d9ef">new&lt;/span> Parent();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Parent Mark = &lt;span style="color:#66d9ef">new&lt;/span> Parent();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Child Bart = &lt;span style="color:#66d9ef">new&lt;/span> Child();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>John.Childs.Add(Bart);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Bart.Parent = Mark;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin. http://dunnhq.com -->
&lt;p>With such a code Bart&amp;rsquo;s parent is Mark, but Bart is in John Child collection, this is WRONG. To avoid this problem you should maintain integrity in the domain model, managing the consistency of the relationship. Suppose you have the same situation with two objects, a StockKeepingUnit and a StockContainer, here it is the code for StockKeepingUnit&lt;/p></description></item><item><title>Adapting a model to make binding simpler</title><link>https://www.codewrecks.com/post/old/2009/03/adapting-a-model-to-make-binding-simpler/</link><pubDate>Tue, 17 Mar 2009 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/03/adapting-a-model-to-make-binding-simpler/</guid><description>&lt;p>I have a domain model composed by Clients, each client has a series of associated Typology objects and each Typology object has a certain number of associated Target. Now I need to bind this model to a series of three combo in WPF, but I have this little problem&lt;/p>
&lt;p>The model is not directly accessible, I have already a service that has functions like GetAllCustomer, GetTyplogyForCustomer(Int32 customerId) and GetTargetForTyplogy(Int32 typologyId). Each method returns a list of the corresponding object, but they are DTO and not real object, so the Customer, Typology and Target returned from the service have no relation between them. Moreover I do not want to load everything when the application starts, because it will be extremely slow, I want to be able to load data as it needed, with lazy load. I created a couple of classes that I can use to lazily load entities&lt;/p></description></item><item><title>Setting up the trunk of a project</title><link>https://www.codewrecks.com/post/old/2009/02/setting-up-the-trunk-of-a-project/</link><pubDate>Mon, 16 Feb 2009 03:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/02/setting-up-the-trunk-of-a-project/</guid><description>&lt;p>In &lt;a href="http://brendan.enrick.com/blog/organizing-software-projects/">this very interesting link&lt;/a> brendan spoke about how to organize the trunk of a project. I think that this is a very important subject, especially for medium sized or big project. If you fail to organize your source code including everything you will end with trouble. In the past it happened to me to work on project where you need to spend a lot of time just to have the first run ok. I need to download and install tools, libraries, then I need to open a solution, compile and move dll into another folder etc etc etc. This situation is a clear indication of a bad organization of the trunk.&lt;/p></description></item><item><title>Extend BindingList with filter functionality</title><link>https://www.codewrecks.com/post/old/2008/11/extend-bindinglist-with-filter-functionality/</link><pubDate>Sat, 22 Nov 2008 05:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/11/extend-bindinglist-with-filter-functionality/</guid><description>&lt;p>If you still work with windows forms and cannot move all of your projects to WPF, you probably gets annoyed by the limitation of the standard BindingList&amp;lt;T&amp;gt; included in the framework. In an &lt;a href="http://www.codewrecks.com/blog/index.php/2007/10/12/bindinglistfind-and-notimplementedexception/">old post&lt;/a> I showed how can you create a specialized BindingList&amp;lt;T&amp;gt; to support generic Find() thanks to reflection, but this is not enough.&lt;/p>
&lt;p>Another annoying limitation is that BindingList does not support IBindingListView. For those that does not knows this interface, it is the one used by the windows forms binding engine to support filtering and advanced sorting. I think that filtering is a real basic functionality needed by the binding engine, and in fact WPF support for filtering, sorting and grouping, make these operations really a breeze. But BindingList does not offers such a functionality.&lt;/p></description></item><item><title>Impedence between domain objects and Ui Layer</title><link>https://www.codewrecks.com/post/old/2008/11/impedence-between-domain-objects-and-ui-layer/</link><pubDate>Thu, 20 Nov 2008 11:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/11/impedence-between-domain-objects-and-ui-layer/</guid><description>&lt;p>When you work with domain model your domain objects become more complex than a simple containers for table values. This makes somewhat problematic using these object directly with the UI, especially when you use native binding. Let&amp;rsquo;s make an example, I have this object called &lt;strong>Domain&lt;/strong> &lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2008/11/image10.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2008/11/image-thumb10.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2008/11/image-thumb10.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>As you can see the Domain class has a property called ContentBlackList that is a List of String. The setter is private and in the getter the list is created lazily, then I have a &lt;a href="http://www.codewrecks.com/blog/index.php/2008/10/21/some-details-on-older-post-about-usertype/">User Type&lt;/a> to map this property into a single field of a table in a list of string separated by the charachter #. The object works well, until I want to bind this property directly to a textbox in a form.&lt;/p></description></item><item><title>The eternal conflict between customers and programmers</title><link>https://www.codewrecks.com/post/old/2008/09/the-eternal-conflicts/</link><pubDate>Thu, 11 Sep 2008 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/09/the-eternal-conflicts/</guid><description>&lt;p>In my experience it is not a good idea to put in direct communication stakeholders (customers) and programmers, here is the typical result&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2008/09/drawing.jpg">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2008/09/drawing-thumb.jpg"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2008/09/drawing-thumb.jpg" alt="drawing" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>Lets analyze this typical situation from the perspective of the stakeholder; he have all the reason to ask for new features, he does not possess strong technical skills, and since he is the one who actually &lt;em>pay to build the software&lt;/em>, he does not understand why he cannot ask for a simple modification. Moreover the developer is speaking some obscure technical jargon, so he could not understand the reason behind these difficulties.&lt;/p></description></item><item><title>I love fluent interfaces</title><link>https://www.codewrecks.com/post/old/2008/09/i-love-fluent-interfaces/</link><pubDate>Thu, 04 Sep 2008 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/09/i-love-fluent-interfaces/</guid><description>&lt;p>I’m developing a little library that basically does these steps&lt;/p>
&lt;ol>
&lt;li>open a docx file&lt;/li>
&lt;li>Find a particular bookmark in the file&lt;br>
3)Add some content at bookmark position&lt;/li>
&lt;li>Save the updated file.&lt;/li>
&lt;/ol>
&lt;p>This is a typical call&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2008/09/image.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2008/09/image-thumb.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2008/09/image-thumb.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>I like very much this kind of syntax, since we chain every method we always have intellisense that suggest us what to call, if you read the code you can easily check that we add two simple cell with text, then we add a cell with complex text, then another paragraph and finally another table, here is the result on the final document.&lt;/p></description></item><item><title>Relations are really so useful</title><link>https://www.codewrecks.com/post/old/2008/07/relations-are-really-so-useful/</link><pubDate>Tue, 22 Jul 2008 23:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/07/relations-are-really-so-useful/</guid><description>&lt;p>Today I was reading &lt;a href="http://www.codemetropolis.com/archive/2008/07/22/domain-model-amp-aggregates-when-do-master-detail-associations-happen.aspx">this post&lt;/a> from my friend &lt;a href="http://www.codemetropolis.com/">Marco&lt;/a>, where he points out one of the most frequent problem in the design of domain Model: &lt;em>too much use of relations&lt;/em>. The problem arises from the fact that an ORM like NHibernate, seems to solve all the problems because it handles all the complexities, but there are a lot of considerations to be done before establish a relation between entities. Let&amp;rsquo;s have a brief look at the classical example of Customer-Orders&lt;/p></description></item></channel></rss>