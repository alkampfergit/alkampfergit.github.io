<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Testing on Codewrecks</title><link>https://www.codewrecks.com/categories/testing/</link><description>Recent content in Testing on Codewrecks</description><generator>Hugo</generator><language>en</language><lastBuildDate>Sat, 25 Jun 2016 08:00:37 +0200</lastBuildDate><atom:link href="https://www.codewrecks.com/categories/testing/index.xml" rel="self" type="application/rss+xml"/><item><title>Create Parametrized test to allow for simpler Builds</title><link>https://www.codewrecks.com/post/old/2016/06/create-parametrized-test-to-allow-for-simpler-builds/</link><pubDate>Sat, 25 Jun 2016 08:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2016/06/create-parametrized-test-to-allow-for-simpler-builds/</guid><description>&lt;p>When it is time of running unit test in a TFS or TeamCity Build, often you face the problem to &lt;strong>run tests with options different from those one used in Developer Machine&lt;/strong>. As an example we have tons of tests that requires a MongoDb and and ElasticSearch or Solr integration.&lt;/p>
&lt;p>While it is quite normal for developers to have everything installed in local dev box, &lt;strong>it could be annoying to provide MongoDb and ElasticSearch installed on all agent machines.&lt;/strong> This approach complicates the setup of a build servers and create a situation that is less manageable.&lt;/p></description></item><item><title>Running Unit Tests on different machine during TFS 2015 build</title><link>https://www.codewrecks.com/post/old/2016/06/running-unit-tests-on-different-machine-during-tfs-2015-build/</link><pubDate>Sat, 04 Jun 2016 08:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2016/06/running-unit-tests-on-different-machine-during-tfs-2015-build/</guid><description>&lt;p>First of all I need to thanks my friend &lt;a href="http://blog.ehn.nu/">Jackob Ehn&lt;/a> that pointed me to the right direction to create a particular build.  In this post &lt;strong>I’ll share with you my journey to run tests on a different machine than the one that is running the build&lt;/strong>.&lt;/p>
&lt;p>&lt;strong>For some build it is interesting to have the ability to run some Unit Test (nunit in my scenario) on a machine different from that one that is running the build.&lt;/strong> There are a lot of legitimate reasons for doing this, for a project I’m working with, to run a set of test I need to have a huge amount of pre-requisites installed (LibreOffice, ghostscript, etc). Instead of installing those prerequisite on all agent machines, or install those one on a single build agent and using capabilities, I’d like to being able &lt;strong>to run the build on any build agent, but run the test in a specific machine that had all the prerequisite installed.&lt;/strong> &amp;gt; Sometimes it is necessary to run tests during build on machine different from that one where the build agent is running.&lt;/p></description></item><item><title>Run Selenium Test in build vNext</title><link>https://www.codewrecks.com/post/old/2016/02/run-selenium-test-in-build-vnext/</link><pubDate>Sat, 20 Feb 2016 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2016/02/run-selenium-test-in-build-vnext/</guid><description>&lt;p>Previous Articles:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2016/02/19/parametrize-nunit-selenium-test-for-run-with-different-browsers/">Parametrize NUnit Selenium Test to run with different browsers&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>To run a Selenium test in a build vNext there are some modification to do apply to previous example. Let’s see how simple is running our Selenium Tests in a VSTS Build vNext.&lt;/p>
&lt;p>The first modification requires &lt;strong>adding a reference to PhantomJS, an Headless browser based on webkit that is capable of browsing a site and run javascript without a UI&lt;/strong>. Since we are interested in running test in a build server, this is a requirement if the agent runs as a service and has not access to a UI. To use PhantomJS just reference &lt;a href="https://www.nuget.org/packages/PhantomJS/">PhantomJS&lt;/a> package on nunit and modify your base class to support this browser.&lt;/p></description></item><item><title>Parametrize NUnit Selenium Test to run with different browsers</title><link>https://www.codewrecks.com/post/old/2016/02/parametrize-nunit-selenium-test-for-run-with-different-browsers/</link><pubDate>Fri, 19 Feb 2016 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2016/02/parametrize-nunit-selenium-test-for-run-with-different-browsers/</guid><description>&lt;p>Parametrizing NUnit Tests is a new feature introduced with &lt;a href="http://nunit.org/index.php?p=parameterizedTests&amp;amp;amp;r=2.5">version 2.5&lt;/a> and this feature can be really useful in a variety of scenarios, but when it is time to use Selenium this is a killer feature.&lt;/p>
&lt;p>I’m not going to cover Selenium WebDriver component, but basically it allows to write tests that can drive a Browser to execute test against your web application. In this scenario &lt;strong>a killer feature is being able to specify the list of the browsers to use in a way that is completely indipendent from your test&lt;/strong>.&lt;/p></description></item><item><title>Build vNext support for deploying bits to Windows machines</title><link>https://www.codewrecks.com/post/old/2015/06/build-vnext-support-for-deploying-bits-to-windows-machines/</link><pubDate>Sat, 20 Jun 2015 13:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2015/06/build-vnext-support-for-deploying-bits-to-windows-machines/</guid><description>&lt;p>One of the most interesting trend of DevOps movement is continuous deployment using build machines. Once you get your continuous build up and running, the next step is &lt;strong>customizing the build to deploy on one or more test environments&lt;/strong>. If you do not need to deploy in production, there is no need of a controlled release pipeline (Ex: Release Management) and using a simple build is the most productive choiche. In this scenario &lt;strong>one of the biggest pain is moving bits from the build machine to target machines.&lt;/strong> Once build output is moved to a machine, installing bits is usually only a matter of using some PowerShell script.&lt;/p></description></item><item><title>Quickly run Unit Test With VS 20122013</title><link>https://www.codewrecks.com/post/old/2015/04/quickly-run-unit-test-with-vs-20122013/</link><pubDate>Fri, 24 Apr 2015 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2015/04/quickly-run-unit-test-with-vs-20122013/</guid><description>&lt;p>With VS 2012 and newer versions &lt;strong>we can run Unit Tests from various frameworks directly from Visual Studio IDE&lt;/strong> , thanks to the concept of Test Adapters. When you are doing Test Driven Development you usually go with Red/Green/Refactor workflow; what you need is a way to quickly run all or part of your unit tests after you modified the code. The quickest solution is using the option to Run Tests After Build but it is available only for Premium and Ultimate edition, but &lt;strong>you can also run test with little manual intervention resorting to Keyboard Shortcut&lt;/strong>.&lt;/p></description></item><item><title>Nunit test not found for some assemblies with Visual Studio Test Runner</title><link>https://www.codewrecks.com/post/old/2015/04/nunit-test-not-found-for-some-assemblies-with-visual-studio-test-runner/</link><pubDate>Wed, 22 Apr 2015 12:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2015/04/nunit-test-not-found-for-some-assemblies-with-visual-studio-test-runner/</guid><description>&lt;p>I’ve a project in Visual Studio 2013 where &lt;strong>one of the assembly containing Tests refuses to show tests in Test Explorer window&lt;/strong>. The solution has tests written both in Nunit and in MSpec, and everything is good except for that specific assembly. If you notice that Test Explorer window misses some tests, the first thing you need to check is the &lt;strong>output windows, where you can find some output for Test Adapters&lt;/strong>.&lt;/p></description></item><item><title>How to deal with Slow Unit Tests with Visual Studio Test Runner</title><link>https://www.codewrecks.com/post/old/2014/07/how-to-deal-with-slow-unit-tests-with-visual-studio-test-runner/</link><pubDate>Wed, 02 Jul 2014 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2014/07/how-to-deal-with-slow-unit-tests-with-visual-studio-test-runner/</guid><description>&lt;h2 id="the-problem">The problem&lt;/h2>
&lt;p>One of the most dreadful problem of Unit Testing is slow testing. If your whole suite of tests runs in 10 minutes, it is normal for developers not to run the whole suite at each build. One of the most common question is&lt;/p>
&lt;blockquote>
&lt;p>How can I deal with slow Unit Tests?&lt;/p>&lt;/blockquote>
&lt;p>Here is my actual scenario: in a project I’m working in, we have some multilingual full text search done in Elastic Search and we have a battery of Unit Tests that verify that searches work as expected. Since each test deletes all documents, insert a bunch of new documents and finally commits lucene index, execution times is high compared to the rest of tests. Each test need almost 2 seconds to run on my workstation, where I have really fast SSD and plenty of RAM.&lt;/p></description></item><item><title>Shim constructors to isolate 'Future Objects'</title><link>https://www.codewrecks.com/post/old/2012/06/shim-constructors-to-isolate-future-objects/</link><pubDate>Thu, 14 Jun 2012 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/06/shim-constructors-to-isolate-future-objects/</guid><description>&lt;p>I’ve already blogged previously about the new Shim Library of Visual Studio 2012&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/04/27/using-shims-in-visual-studio-11-to-test-untestable-code/">Using Shims in Visual Studio to test untestable code&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/05/10/shim-and-instancebehavior-fallthrough-to-isolate-part-of-the-sut/">Shim and InstanceBehavior fallthrough to isolate part of the SUT.&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Now it is time to explore another scenario where shim can save your life. Suppose you are working with Hardware, Es. a barcode reader and you have a class in your system wrote in this way.&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">BarcodeReader&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> BarcodeReader() { 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//connect to the hardware, if the hardware is not there &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//throw an exception&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> String ReadCode() 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//dialogate with the hardware and get the Barcode&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;p>This class manage the &lt;strong>connection to a physical BarcodeReader in the constructor&lt;/strong> and if &lt;strong>something went wrong throws an exception&lt;/strong> and expose a ReadCode method that ask the Physical reader to read a Barcode. This class is used with the following pattern throughout all the software.&lt;/p></description></item><item><title>Shim and InstanceBehavior fallthrough to isolate part of the SUT</title><link>https://www.codewrecks.com/post/old/2012/05/shim-and-instancebehavior-fallthrough-to-isolate-part-of-the-sut/</link><pubDate>Thu, 10 May 2012 16:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/05/shim-and-instancebehavior-fallthrough-to-isolate-part-of-the-sut/</guid><description>&lt;p>I’ve dealt in a previous post with the new &lt;a href="http://www.codewrecks.com/blog/index.php/2012/04/27/using-shims-in-visual-studio-11-to-test-untestable-code/">Shim library in Vs11&lt;/a> that permits you to test “difficult to test code” and &lt;strong>I showed a really simple example on how to use Shim to isolate the call to DateTime.Now&lt;/strong> to simulate passing time in a Unit Test. Now I want to change a little bit the perspective of the test, in the test showed in previous post I simply exercise the sut calling Execute() a couple of time, simulating the time that pass between the two calls. Here is the test&lt;/p></description></item><item><title>Traffic light vNext</title><link>https://www.codewrecks.com/post/old/2012/05/traffic-light-vnext/</link><pubDate>Mon, 07 May 2012 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/05/traffic-light-vnext/</guid><description>&lt;ul>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2011/11/07/traffic-light-experiment/">TrafficLight Experiment.&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2011/11/08/advantage-of-ddd-approach-to-problem/">Advantage of DDD approach to the problem&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.codewrecks.com/blog/index.php/2012/01/30/traffic-light-say-goodbye-to-public-properties/">Traffic Light, say goodbye to public properties&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>It is a long time I did not post about simple &lt;strong>Traffic Light experiment&lt;/strong>. I’ve ended with a super simple Domain with no Getters and no Setters, but there is still something I really do not like about that sample and it is represented by this test.&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[Fact]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> When_both_semaphore_are_red_one_become_green()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//move all to yellow fixed&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">using&lt;/span> (DateTimeService.OverrideTimeGenerator(DateTime.Now.AddSeconds(&lt;span style="color:#ae81ff">1&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sut.Tick();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Clear();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//now move again to both red&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">using&lt;/span> (DateTimeService.OverrideTimeGenerator(DateTime.Now.AddSeconds(&lt;span style="color:#ae81ff">10&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sut.Tick();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Should().Have.Count.EqualTo(&lt;span style="color:#ae81ff">2&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.All(e =&amp;gt; e.NewStatus == LightColor.Red).Should().Be.True();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Clear();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">using&lt;/span> (DateTimeService.OverrideTimeGenerator(DateTime.Now.AddSeconds(&lt;span style="color:#ae81ff">1&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sut.Tick();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//only one semaphore should be go to green state&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents.Should().Have.Count.EqualTo(&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _domainEvents[&lt;span style="color:#ae81ff">0&lt;/span>].NewStatus.Should().Be.EqualTo(LightColor.Green);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;p>This test is quite ugly and it requires some initialization code, contained in the constructor of the test class.&lt;/p></description></item><item><title>Using Shims in Visual Studio 11 to test untestable code</title><link>https://www.codewrecks.com/post/old/2012/04/using-shims-in-visual-studio-11-to-test-untestable-code/</link><pubDate>Fri, 27 Apr 2012 20:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/04/using-shims-in-visual-studio-11-to-test-untestable-code/</guid><description>&lt;p>I always strive myself to write testable code, but it is not always easy, especially if you do not follow TDD red-green-refactor mantra. &lt;strong>Code written without Unit Testing in mind is usually not so easy to test&lt;/strong> and when is time to modify code written by other, if you want to create a safety net of Unit Tests to avoid breaking code it is usually an hard task. The main problem is &lt;strong>hardcode dependency from static functions&lt;/strong> because you cannot test a single function or method in isolation, forcing you to use pattern like &lt;strong>&lt;a href="http://xunitpatterns.com/Back%20Door%20Manipulation.html">Back door manipulation&lt;/a>&lt;/strong> that makes test difficult to read, write and maintain. Lets take this code as example&lt;/p></description></item><item><title>Running NUnit and xUnit tests in TFS11 build</title><link>https://www.codewrecks.com/post/old/2012/03/running-nunit-and-xunit-tests-in-tfs11-build/</link><pubDate>Mon, 05 Mar 2012 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2012/03/running-nunit-and-xunit-tests-in-tfs11-build/</guid><description>&lt;p>I’ve blogged in the past various solution to run NUnit tests during a TFS build, and now it is time to make it again for TFS11, but this time it is incredibly simple, because the new Test Runner supports multiple frameworks, so it works &lt;em>almost&lt;/em> automatically.&lt;/p>
&lt;p>You can read from &lt;a href="http://www.peterprovost.org/blog/post/Visual-Studio-11-Beta-Unit-Testing-Plugins-List.aspx">Peter Provost blog&lt;/a> that actually we have three plugin for UTE (Unit Test Explorer) available: Nunit, xUnit and HTML/JAvascript, they are simple.vsix file (Visual Studio Extension), that you can download, run, and voilà, your xUnit and NUnit tests are runnable from Visual Studio.&lt;/p></description></item><item><title>Unit testing floating point numbers</title><link>https://www.codewrecks.com/post/old/2011/05/unit-testing-floating-point-numbers/</link><pubDate>Thu, 05 May 2011 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/05/unit-testing-floating-point-numbers/</guid><description>&lt;p>Testing for equality Floating point numbers is usually a bad idea, this because rounding occurs with floating point operations and you need to test with a tolerance. Suppose you test that some algorithm produces the expected result and you find that unit test fails with this message.&lt;/p>
&lt;blockquote>
&lt;p>SharpTestsEx.AssertException : 2.36 Should Be Equal To 2.36.&lt;/p>&lt;/blockquote>
&lt;p>This seems strange, but the problem is that the real value is 2.360000000003 that surely is different from 2.36. Now you have two different scenario, the first one is &lt;em>the test is wrong because I want to verify that the two numbers are really equals&lt;/em>. With floating point calculation this cannot be achieved, you can use numbers with high precision, but doing operations with any floating point numbers lead to rounding, and you should never test for equality two floating point numbers.&lt;/p></description></item><item><title>Write clearer Unit Tests</title><link>https://www.codewrecks.com/post/old/2011/03/write-clearer-unit-tests/</link><pubDate>Fri, 25 Mar 2011 09:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/03/write-clearer-unit-tests/</guid><description>&lt;p>One of the purpose of Unit Testing is writing small test that verify small functionality. When a test fails it should be immediately clear what is wrong, and reading the test should immediately convey the purpose of the test. Consider this one.&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[Test]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Smoke_Test_Of_XXXFilter()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GetYYYYParam param = &lt;span style="color:#66d9ef">new&lt;/span> GetYYYYParam();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>param.ForDateXXXRange(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">new&lt;/span> DateTime(&lt;span style="color:#ae81ff">2011&lt;/span>, &lt;span style="color:#ae81ff">01&lt;/span>, &lt;span style="color:#ae81ff">01&lt;/span>),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">new&lt;/span> DateTime(&lt;span style="color:#ae81ff">2011&lt;/span>, &lt;span style="color:#ae81ff">02&lt;/span>, &lt;span style="color:#ae81ff">01&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>_sut.GetYYYY(param);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;p>I&amp;rsquo;ve removed the name of the Entity, this is a DAL test that use a Filter Object to specify a Date Range filter for XXX property, and it just call the function without verifying anything. The purpose of this test, as the name implies, is just calling the GetYYYY function with only a filter on the XXXX Date param and verify that it should not raise any exception. This is needed because the query is quite complicated and this test just verify that it runs without exception. But the question is, I can write in a more clearer way?&lt;/p></description></item><item><title>Writing a custom assertion for SharpTestEx</title><link>https://www.codewrecks.com/post/old/2011/03/writing-a-custom-assertion-for-sharptestex/</link><pubDate>Tue, 22 Mar 2011 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/03/writing-a-custom-assertion-for-sharptestex/</guid><description>&lt;p>Actually &lt;a href="http://sharptestex.codeplex.com/">SharpTestEx&lt;/a> is my favorite way to make assertions in Unit testing. It has a lot of advantages, first of all it permits to write really clear assertions, then it works on the main Unit testing framework, so I can use the same assertion syntax for nunit and for MStest or MbUnit etc etc.&lt;/p>
&lt;p>Another cool advantages is how simple is to extend the syntax, the IEnumerableConstraint has the Contain assertion to verify that an element is contained in a IEnumerable sequence of objects. Now I want to be able to write a ContainAny that accepts a lambda to specify a condition that must be satisfied by at least one of the elements of the collection.&lt;/p></description></item><item><title>MTM and the cycle of a bug</title><link>https://www.codewrecks.com/post/old/2011/01/mtm-and-the-cycle-of-a-bug/</link><pubDate>Sat, 22 Jan 2011 09:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2011/01/mtm-and-the-cycle-of-a-bug/</guid><description>&lt;p>Thanks to &lt;a href="http://msdn.microsoft.com/en-us/library/bb385901.aspx">Microsoft Test Manager&lt;/a>, testing teams have a complete tool to manage every part of testing, but since it is a new tool we need to understand how to use at its best, so I&amp;rsquo;ll try to explain a typical cycle of a test-bug-fix-test with MTM.&lt;/p>
&lt;p>Everything starts with the definition of a Test Case in a Test suite, in this example I want to verify what happens when the user insert some specific quantity in the Chart page of TailSpin toys.&lt;/p></description></item><item><title>Test helper for a single method</title><link>https://www.codewrecks.com/post/old/2010/12/test-helper-for-a-single-method/</link><pubDate>Wed, 29 Dec 2010 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/12/test-helper-for-a-single-method/</guid><description>&lt;p>I&amp;rsquo;ve build during years a test helper infrastructure that permits me to decorate a test fixture with some custom attributes that are capable to execute code before and after fixture setup/teardown or test setup/teardown. Now my dear friend Ugo needs for &lt;a href="http://dexterblogengine.codeplex.com/">Dexter&lt;/a> a modified version of this framework to be able to apply attributes directly to tests.&lt;/p>
&lt;p>Basically Ugo needs to change the principal during each test, and he want to be able to write code like this one.&lt;/p></description></item><item><title>Castle and Automock avoid resolving properties</title><link>https://www.codewrecks.com/post/old/2010/11/castle-and-automock-avoid-resolving-properties/</link><pubDate>Tue, 30 Nov 2010 14:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/11/castle-and-automock-avoid-resolving-properties/</guid><description>&lt;p>I use &lt;a href="http://www.codewrecks.com/blog/index.php/2010/10/18/mock-service-locator-and-automocking-container-to-the-rescue/">AutoMockingContainer&lt;/a> extensively in my test projects, and I ‘ve build over time an automocking container that satisfy all of my needs. Thanks to Castle Windsor, using complex logic with the AutomockingContainer is a breeze. Suppose you have this ViewModel&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2010/11/image8.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2010/11/image_thumb8.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2010/11/image_thumb8.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>&lt;em>&lt;strong>Figure 1&lt;/strong>&lt;/em>: &lt;em>ViewModel under test&lt;/em>&lt;/p>
&lt;p>The only aspect I&amp;rsquo;m interested in is the SelectedLinkResult public property, that have a lot of logic in the set part, this is needed to react on user selection change in the UI. Now when I use AutoMockingContainer to automock this view model I have a big problem, I need to setup a lot of expectations to make the setter logic to work, this because when I try to resolve with automock, my AutoMockingContainer try to resolve each dependency, even properties. To avoid this I need to be able to tell my container&lt;/p></description></item><item><title>Feature Pack 2</title><link>https://www.codewrecks.com/post/old/2010/11/feature-pack-2/</link><pubDate>Mon, 22 Nov 2010 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/11/feature-pack-2/</guid><description>&lt;p>Some days ago the &lt;a href="http://blogs.msdn.com/b/vstsue/archive/2010/11/16/visual-studio-2010-feature-pack-2-expands-test-capabilities-and-includes-code-visualization-modeling-tools-from-previous-feature-pack.aspx">Feature pack 2&lt;/a> was released. This pack will extend testing capabilities of VS2010, and one of the coolest addition is a graphical editor for the UIMap of Coded UI test.&lt;/p>
&lt;p>Another killer feature is the official support to run coded ui test With Mozilla firefox 3.5 or higher and support for Coded UI testing silverlight 4 applications.&lt;/p>
&lt;p>If you are using Coded UI Test you cannot miss it.&lt;/p></description></item><item><title>Advanced capability in Web Performance Test of VS2010</title><link>https://www.codewrecks.com/post/old/2010/11/advanced-capability-in-web-performance-test-of-vs2010/</link><pubDate>Fri, 12 Nov 2010 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/11/advanced-capability-in-web-performance-test-of-vs2010/</guid><description>&lt;p>Suppose you have a very stupid web page that adds two numbers together.&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2010/11/SNAGHTML1bfcde2.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2010/11/SNAGHTML1bfcde2_thumb.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2010/11/SNAGHTML1bfcde2_thumb.png" alt="SNAGHTML1bfcde2" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>&lt;em>&lt;strong>Figure 1&lt;/strong>&lt;/em>: &lt;em>A stupid web page to sum two numbers&lt;/em>&lt;/p>
&lt;p>WOW, this is really a beautiful and useful web page :), now I want to register a web performance test that is able to use extraction rules to use this page as a Fibonacci Number calculator. I start registering a simple web performance test that adds 1 and 2 together. This is a simple two steps web performance test.&lt;/p></description></item><item><title>Extending Visual Studio 2010 Web Test-Regex extraction</title><link>https://www.codewrecks.com/post/old/2010/11/extending-visual-studio-2010-web-testregex-extraction/</link><pubDate>Mon, 08 Nov 2010 08:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/11/extending-visual-studio-2010-web-testregex-extraction/</guid><description>&lt;p>In a &lt;a href="http://www.codewrecks.com/blog/index.php/2010/11/02/extending-visual-studio-2010-web-testcustom-loop/">previous post&lt;/a> I showed how to create a custom loop that permits you to create a loop in a web performance test to iterate from the char ‘a&amp;rsquo; to char ‘z&amp;rsquo;, now I want to be able to create an inner loop that&lt;/p>
&lt;ol>
&lt;li>for each loop extract all the names of the customers that satisfy the search&lt;/li>
&lt;li>for each name ask for detail&lt;/li>
&lt;/ol>
&lt;p>I need another custom loop that is able to extract strings from the body of a response and iterate for each string. Here is the full code.&lt;/p></description></item><item><title>Extending Visual Studio 2010 web test-Custom loop</title><link>https://www.codewrecks.com/post/old/2010/11/extending-visual-studio-2010-web-testcustom-loop/</link><pubDate>Tue, 02 Nov 2010 14:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/11/extending-visual-studio-2010-web-testcustom-loop/</guid><description>&lt;p>Suppose you have a very simple page that permits you to search customers in northwind database and visualize orders, a classic master-detail page.&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2010/11/image.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2010/11/image_thumb.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2010/11/image_thumb.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;em>&lt;strong>Figure 1&lt;/strong>&lt;/em>: A classic Master-Detail page*&lt;/li>
&lt;/ul>
&lt;p>Now suppose that you need to create a VS web test to search for each letter of the alphabet, and for each result page you should visit order details. Thanks to VS 2010 we have another construct for Web test called Loop, but there is no out-of-the-box loop condition to iterate with all the letters of the alphabet, so I need to build a custom one. To create a plugin for loop test you need simply to inherit from the &lt;a href="http://msdn.microsoft.com/en-us/library/microsoft.visualstudio.testtools.webtesting.conditionalrulereference.aspx">ConditionalRule&lt;/a> class and write a little bit of code:&lt;/p></description></item><item><title>Extending Visual Studio 2010 Web Test</title><link>https://www.codewrecks.com/post/old/2010/10/extending-visual-studio-2010-web-test/</link><pubDate>Thu, 28 Oct 2010 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/10/extending-visual-studio-2010-web-test/</guid><description>&lt;p>Visual Studio has an integrated Web Test tool capable to record navigation in IE to create web tests that can be used even for Load Testing. One of the most interesting capabilities of this tool, is that it is pluggable.&lt;/p>
&lt;p>Suppose you have recorded a simple test that verifies the registration procedure for a web site, this test suffer from a well known problem, whenever you will run it, it will try to register the same user again and again and it fails. Moreover, if I want to use this test in a web load test I could not use Data Driven Test because I really want a random string to be generated each time the test is run to be sure that a new username gets registered. Sounds complicated? Maybe not :)&lt;/p></description></item><item><title>Testing capabilities in TFS 2010</title><link>https://www.codewrecks.com/post/old/2010/10/testing-capabilities-in-tfs-2010/</link><pubDate>Tue, 26 Oct 2010 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/10/testing-capabilities-in-tfs-2010/</guid><description>&lt;p>In TFS 2010 testing capabilities are really exceptional, and I&amp;rsquo;m not referring to testing tools that actually permits to record and replay web pages, CUIT etc, but I&amp;rsquo;m referring to the possibility to do a serious management of test plans for your projects.&lt;/p>
&lt;p>I&amp;rsquo;ve seen in the past team doing test plan management with Excel, and if you are managing your test plan with Excel&amp;hellip;you have a problem. The reason is that Excel is not a tool designed to manage Test Cases, you can clearly use it to write down your test, but it is difficult to integrate it into your ALM process and really difficult to read. The main problem is that Test plans in excel are completely dethatched from all other artifacts of your process, even if you manage to put all of them into team project SharePoint site. Moreover Excel does not helps you to run test or does not help testers to write down the results, usually resulting in Excel Test Spreasheet that are not aligned with the real testing run results.&lt;/p></description></item><item><title>Unit test oriented mind</title><link>https://www.codewrecks.com/post/old/2010/10/unit-test-oriented-mind/</link><pubDate>Wed, 20 Oct 2010 13:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/10/unit-test-oriented-mind/</guid><description>&lt;p>After a lot of years of developing with Unit Test in mind, you surely got a UnitTest Oriented Mind :), what I mean is that is quite simple to understand the pattern of code needed to test a specific feature.&lt;/p>
&lt;p>One of my dear friend asked me this question, he needs to test a call of a service in the Data Access Layer to verify that it does eager fetching and does not suffers of &lt;a href="http://ayende.com/Blog/archive/2006/05/02/CombatingTheSelectN1ProblemInNHibernate.aspx">NHibernate N+1&lt;/a> problem. Can you spot out how you can test this requirement in a unit testing. He told me that probably this would be difficult, but the solution is indeed simple.&lt;/p></description></item><item><title>Mock Service Locator and Automocking Container to the rescue</title><link>https://www.codewrecks.com/post/old/2010/10/mock-service-locator-and-automocking-container-to-the-rescue/</link><pubDate>Mon, 18 Oct 2010 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/10/mock-service-locator-and-automocking-container-to-the-rescue/</guid><description>&lt;p>In a &lt;a href="http://www.codewrecks.com/blog/index.php/2010/10/16/mock-service-locator-automocking-container-and-the-hard-life-of-testers/">previous post&lt;/a> I dealt on how to write an AutoMockingContainer that is able to resolve a mock for unregistered objects. The goal was to be able to circumvent the problem of service locator.&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2010/10/SNAGHTML1e24939.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2010/10/SNAGHTML1e24939_thumb.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2010/10/SNAGHTML1e24939_thumb.png" alt="SNAGHTML1e24939" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>&lt;em>&lt;strong>Figure 1&lt;/strong>&lt;/em>: &lt;em>During a test, the real container of the service locator is substituted with an AutoMocking container.&lt;/em>&lt;/p>
&lt;p>This is a standard way to work when you have to test classes that depends from Service Locator, override the Service Locator for the test, making it returns stub. Clearly you should design your class with Dependency Injection in mind, and reduce at minimum the Service Locator usage.&lt;/p></description></item><item><title>Mock Service Locator Automocking container and the hard life of testers</title><link>https://www.codewrecks.com/post/old/2010/10/mock-service-locator-automocking-container-and-the-hard-life-of-testers/</link><pubDate>Sat, 16 Oct 2010 09:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/10/mock-service-locator-automocking-container-and-the-hard-life-of-testers/</guid><description>&lt;p>I know, &lt;a href="http://en.wikipedia.org/wiki/Service_locator_pattern">service locator&lt;/a> is an antipattern, but sometimes, when you begin to refactor existing code written with no IoC in mind, service locator can help you a little bit in restructuring your code. A service locator pattern work this way: you have some static or gloablly avaliable class named: ServiceLocator or IoC, and every object can query it for service implementation.&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2010/10/image6.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2010/10/image_thumb6.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2010/10/image_thumb6.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>&lt;em>&lt;strong>Figure 1&lt;/strong>&lt;/em>: &lt;em>Simple schema of Service Locator Pattern, each object can query the SL asking for service&lt;/em>&lt;/p></description></item><item><title>Change return value of a mock based on parameters in Rhino mocks</title><link>https://www.codewrecks.com/post/old/2010/06/change-return-value-of-a-mock-based-on-parameters-in-rhino-mocks/</link><pubDate>Wed, 30 Jun 2010 13:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/06/change-return-value-of-a-mock-based-on-parameters-in-rhino-mocks/</guid><description>&lt;p>Sometimes there is the need to change the return value of an expectation to a Mock with a value based on parameters used in the call. Suppose you need to create a mock, and want to verify that the method DoInt() gets called with a value greater than 42 and it should return the value augmented by one, how you can setup the expectation?&lt;/p>
&lt;p>The secret is in the WhenCalled method exposed by the mock, that permits you to access the full MethodInvocation object that gets generated during the real invocation. Here is the solution.&lt;/p></description></item><item><title>Slow database test with SqlLite</title><link>https://www.codewrecks.com/post/old/2010/05/slow-database-test-with-sqllite/</link><pubDate>Wed, 12 May 2010 15:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/05/slow-database-test-with-sqllite/</guid><description>&lt;p>I’ve a project where I wrote all nhibernate mapping tests against a sqllite db. At this time a test fixture gave me this result.&lt;/p>
&lt;p>&lt;em>44 passed, 0 failed, 0 skipped, took 54,46 seconds (NUnit 2.5.5).&lt;/em>&lt;/p>
&lt;p>As you can see the time needed to run the test is quite high, and the worst stuff is that is gets higher over time, at the beginning of the project it is acceptable now it is becoming annoying. The problem is that, since I need to run each test starting with a clean database, I have an helper that simply recreates the schema of the database with Nhibernate SchemaExport class before each test. This scenario is inefficient, because schema creation is an heavy operation to perform, but I’ve used because it is quick and it works very well.&lt;/p></description></item><item><title>AutoMockingContainer and mock used in the constructor</title><link>https://www.codewrecks.com/post/old/2010/05/automockingcontainer-and-mock-used-in-the-constructor/</link><pubDate>Thu, 06 May 2010 09:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/05/automockingcontainer-and-mock-used-in-the-constructor/</guid><description>&lt;p>I use a custom version of AutoMockingContainer based on the class used in &lt;a href="http://blog.eleutian.com/CommentView,guid,762249da-e25a-4503-8f20-c6d59b1a69bc.aspx">this blog&lt;/a>. The standard approach does not work for object that depends on some interface in the constructor, but actually uses that interface in the constructor and you need to set expectation on it.&lt;/p>
&lt;p>Basically you need a way to intercept the generation of mock and configure before the constructor of the dependant object is created. This is achieved with a simple trick, first of all the AutoMockingContainer implemnts a specific interface&lt;/p></description></item><item><title>Refactor to testability</title><link>https://www.codewrecks.com/post/old/2010/04/refactor-to-testability/</link><pubDate>Wed, 07 Apr 2010 13:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/04/refactor-to-testability/</guid><description>&lt;p>One of the reason why people do not write tests, is that some code is difficult to test, and one of the main reason for this difficulty is coupling. The obvious solution is to write loosely coupled code from the beginning, but if you are working with legacy code this option is not applicable.&lt;/p>
&lt;p>The problem is that if you have no test and the code is difficult to test you avoid to refactor; after all, if everything works as expected, why you should introduce bug with refactoring? The reason is that sometimes &lt;a href="http://en.wikipedia.org/wiki/Technical_debt">technical debt&lt;/a> is so high, that code is unmanteniable, and you are forced to refactor.&lt;/p></description></item><item><title>Be friendly with Web Test</title><link>https://www.codewrecks.com/post/old/2010/01/be-friendly-with-web-test/</link><pubDate>Tue, 26 Jan 2010 14:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2010/01/be-friendly-with-web-test/</guid><description>&lt;p>I&amp;rsquo;m creating some web tests with Visual Studio to test an application in an end-to-end fashion. This is absolutely not a unit test, but I want to be able to launch a series of automatic tests against a web server to verify if the whole site satisfy an initial set of core requirements.&lt;/p>
&lt;p>One of this test is used to verify if some filters are passed correctly to the Service Layer, because this is a really core feature, and sometimes it happened that someone changes name of parameters, binding will fail and filters does not work anymore on various pages. One of the test populates a couple of textbox with a date range, I set range between 1/1/1900 and 1/1/1901, and I want to verify that this query returns no records. I admit that this is absolutely a bad way to write a test :), but I want to be able to &lt;em>smoke test&lt;/em> the page as quickly as possible. If the page returns no record, the filter was surely passed because I&amp;rsquo;m sure that there is no record in that text range.&lt;/p></description></item><item><title>Test infrastructure</title><link>https://www.codewrecks.com/post/old/2009/11/test-infrastructure/</link><pubDate>Tue, 24 Nov 2009 11:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/11/test-infrastructure/</guid><description>&lt;p>Unit tests must be as clearer as possible, I found that in standard project I&amp;rsquo;m working, I use nhibernate + stored procedures for massive operations. Most of the tests contains code to preload database, recreate structure or manage transaction, so, lot of time ago I decided to build some infrastructure to make this possible.&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2009/11/image20.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2009/11/image_thumb20.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2009/11/image_thumb20.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>It makes my test really simple to read. This test use SqlServer, and it needs to be transactional, so every test run inside a Transaction, but I can specify more complex stuff&lt;/p></description></item><item><title>Rhino Mocks Arrange Act Assert and expectation on generic methods</title><link>https://www.codewrecks.com/post/old/2009/08/rhino-mocks-arrange-act-assert-and-expectation-on-generic-methods/</link><pubDate>Thu, 27 Aug 2009 04:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/08/rhino-mocks-arrange-act-assert-and-expectation-on-generic-methods/</guid><description>&lt;p>I have a project where some actions are to be scheduled by an external library. Each action can be instantiated by a constructor or by a static factory method, and I want to verify with the test that: all action declares static factory method and inside the factory methods all objects are resolved by a call to IoC.Resolve&amp;lt;T&amp;gt;. Since all the actions are in a specific assembly into a specific namespace, I wrote this test.&lt;/p></description></item><item><title>Using Pex in more complex environment a tale of</title><link>https://www.codewrecks.com/post/old/2009/08/using-pex-in-more-complex-environment-a-tale-of/</link><pubDate>Mon, 10 Aug 2009 02:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/08/using-pex-in-more-complex-environment-a-tale-of/</guid><description>&lt;p>Some post ago I &lt;a href="http://www.codewrecks.com/blog/index.php/2009/06/16/pex-to-the-rescue/">blogged&lt;/a> about &lt;a href="http://research.microsoft.com/en-us/projects/Pex/">Pex&lt;/a>, in that post I showed how to use pex to test a routine that does string manipulation, now that I have build a Msbuild Task (as blogged in this &lt;a href="http://www.codewrecks.com/blog/index.php/2009/08/01/writing-extension-for-msbuild/">post&lt;/a>) I want to try pex to analyze that task and find errors. If you simply run pex again the Execute method of the task you will obtain an error like this.&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2009/08/image1.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2009/08/image-thumb1.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2009/08/image-thumb1.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>For those that know well &lt;a href="http://msdn.microsoft.com/en-us/library/ms171452.aspx">MsBuild&lt;/a> this error occours because the BuildEngine was not initialized, and this is obvious, because Pex have no idea on how to create a valid PeekTask to test. Pex is very good in telling you what is wrong, and how to correct,&lt;/p></description></item><item><title>Manage In memory nhibernate test with sqlite and database schema</title><link>https://www.codewrecks.com/post/old/2009/07/manage-in-memory-nhibernate-test-with-sqlite-and-database-schema/</link><pubDate>Fri, 24 Jul 2009 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/07/manage-in-memory-nhibernate-test-with-sqlite-and-database-schema/</guid><description>&lt;p>When you work with nhibernate you usually write a lot of tests that interact with your database, mainly to test your mapping but also when you do not want to shield the session behind a IRepository. To avoid &lt;a href="http://xunitpatterns.com/Slow%20Tests.html">Slow Test&lt;/a> you should use some In Memory database like &lt;a href="http://www.sqlite.org/">Sqlite&lt;/a>, but it can be problematic when you use features of your real database (like Sql Server) that are not supported by the Sqlite engine.&lt;/p></description></item><item><title>Integrate Nunit test into a Tfs build</title><link>https://www.codewrecks.com/post/old/2009/07/integrate-nunit-test-into-a-tfs-build/</link><pubDate>Sun, 19 Jul 2009 20:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/07/integrate-nunit-test-into-a-tfs-build/</guid><description>&lt;p>Since a lot of people use NUnit testing framework, it is of high importance knowing how to fully integrate nunit test runner inside a tfs build. The overall problem is that you can create a custom task, or using an &lt;a href="http://msbuildtasks.tigris.org/">existing one&lt;/a> to run nunit tests, but the main problem is &lt;em>integrating nunit output with standard tfs output&lt;/em>. The problem and a possible solution is described &lt;a href="http://richardsbraindump.blogspot.com/2008/06/merging-nunit-build-results-into-tfs.html">here&lt;/a>.&lt;/p>
&lt;p>This means that someone had already solved this problem for us :), and created an &lt;em>xslt that transforms a nunit-style output into a mstest-style output (.trx file)&lt;/em>, you can find the xslt and an example proj in the &lt;a href="http://nunit4teambuild.codeplex.com/Wiki/View.aspx?title=sample%20script">nunit4teambuild&lt;/a> codeplex project.&lt;/p></description></item><item><title>Database Test With DataBase Edition</title><link>https://www.codewrecks.com/post/old/2009/06/database-test-with-database-edition/</link><pubDate>Fri, 19 Jun 2009 03:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/06/database-test-with-database-edition/</guid><description>&lt;p>I really like the ability to use the Visual Studio Team System Database Edition to create Database Test where I can specify the Database Project with the structure and a DataGeneration Plan to preload data for testing.&lt;/p>
&lt;p>While this is really good to create a set of unit test that are repeatable, it can slow up testing process during development. Let&amp;rsquo;s make an example, I need to made a change in a stored procedure, so I write some tests to verify the new features, verify that they fail, and then start to work.&lt;/p></description></item><item><title>Pex to the rescue</title><link>https://www.codewrecks.com/post/old/2009/06/pex-to-the-rescue/</link><pubDate>Tue, 16 Jun 2009 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/06/pex-to-the-rescue/</guid><description>&lt;p>&lt;a href="http://research.microsoft.com/en-us/projects/Pex/">Pex&lt;/a> is a product from microsoft research that is really useful for those Test Addicted developers. Pex is a White Box Testing tool for.Net, that is able to analyze your code to find every possible point of failure of a method or a class. This morning I had a couple of log from a server that runs a windows service that makes analysis on some text strings. These analysis where originally composed by some regular expressions, but since the amount of data is really big, I substitute some regexes with specialized routine that speeds up the time needed to finish the work.&lt;/p></description></item><item><title>Fluent Syntax for Assertion in msTest</title><link>https://www.codewrecks.com/post/old/2009/06/fluent-syntax-for-assertion-in-mstest/</link><pubDate>Wed, 10 Jun 2009 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/06/fluent-syntax-for-assertion-in-mstest/</guid><description>&lt;p>Switching from &lt;a href="http://www.nunit.org">Nunit&lt;/a> to &lt;a href="http://en.wikipedia.org/wiki/MSTest">MsTest&lt;/a> is quite simple, but the first thing I really miss with mstest was the lack of a fluent assertion syntax. Consider the assertion you must write if you want to check that a number is lesser than 100 or greater than 200&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>[TestMethod]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>public void BaseAssertFluentWithSyntaxHelperLtOrGtRo()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Int32 obj = 400;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assert.IsTrue(obj &lt;span style="color:#f92672">&amp;lt; 100&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">||&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">obj&lt;/span> &lt;span style="color:#f92672">&amp;gt;&lt;/span> 200);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin. http://dunnhq.com -->
&lt;p>It is quite clear, but with fluent syntax you can write test like this&lt;/p></description></item><item><title>Test and Context</title><link>https://www.codewrecks.com/post/old/2009/06/test-and-context/</link><pubDate>Wed, 10 Jun 2009 01:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/06/test-and-context/</guid><description>&lt;p>For a Unit Test the most important concept, and probably the most difficult to manage is the concept of &lt;a href="http://xunitpatterns.com/test%20fixture%20-%20xUnit.html">Fixture&lt;/a>. Quite often part of the Fixture is composed by an external File. In a little project that I use as example for jQuery I have a really simple class that parses an XML file to create a menu for Asp.Net MVC enabled site.&lt;/p>
&lt;p>In such a situation the fixture of the test is using different source files to test the class with different input. In a classic NUNIT unit testing you can solve this problem including the file in the project with &lt;em>Copy if newer&lt;/em>. With such a setting Visual Studio at each build check if the file is changed, and eventually copies the file into the appropriate directory (bin/debug/pathofthefile in standard debug configuration)&lt;/p></description></item><item><title>Minimize test complexity</title><link>https://www.codewrecks.com/post/old/2009/06/minimize-test-complexity/</link><pubDate>Tue, 09 Jun 2009 05:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/06/minimize-test-complexity/</guid><description>&lt;p>I have a function that does these steps&lt;/p>
&lt;ol>
&lt;li>it accepts a string parameter let it call P&lt;/li>
&lt;li>Manipulate that parameter P, transforming in P1 with an algorithm that is contained in a specific class&lt;/li>
&lt;li>uses P1 it to ask for database instance of some classes and does a lot of manipulations and database operations&lt;/li>
&lt;/ol>
&lt;p>Now I want only to test that the class calls the algorithm to transform P in P1. All other functions of that sut are already verified, I first begun with a skeleton test I used previously to test the sut, this skeleton makes heavy use of Mocks and stubs objects to FULLY simulate the database.&lt;/p></description></item><item><title>Programmatically run a Data Generation Plan</title><link>https://www.codewrecks.com/post/old/2009/06/programmatically-run-a-data-generation-plan/</link><pubDate>Mon, 01 Jun 2009 09:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/06/programmatically-run-a-data-generation-plan/</guid><description>&lt;p>I&amp;rsquo;m quite surprised, I was simply looking for a way to run a Data Generation Plan (.dgen) file in Visual Studio Team Edition, but it seems to me that the class that does this have some internal methods. When You generate the first database test Visual Studio ask you all information to run schema sync and data generation, if you look at generated code you can see this code.&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-CSharp" data-lang="CSharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[AssemblyInitialize()]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> IntializeAssembly(TestContext ctx)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">//Setup the test database based on setting in the configuration file&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DatabaseTestClass.TestService.DeployDatabaseProject();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DatabaseTestClass.TestService.GenerateData();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin. http://dunnhq.com -->
&lt;p>This is run first of every code in the test project, but I really have the need to run different data generation plan in different part of my code. If you look at the DatabaseTestClass with reflector you can be really surprised, it has a TestService class that is of type DatabaseTestService.&lt;/p></description></item><item><title>mstest environment for unit testing</title><link>https://www.codewrecks.com/post/old/2009/05/mstest-environment-for-unit-testing/</link><pubDate>Tue, 26 May 2009 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/05/mstest-environment-for-unit-testing/</guid><description>&lt;p>I&amp;rsquo;ve quite always used Nunit for unit testing, I had some little project with mbUnit and a try with xUnit, but I feel comfortable with Nunit so I never had the need to switch to other environment. Now I wanna take a shot to msTest, mainly because it is fully integrated with visual studio and it has some interesting option.&lt;/p>
&lt;p>I&amp;rsquo;ll try as much as possible to point out the differences between them in future posts.&lt;/p></description></item><item><title>The importance of Factories in testing</title><link>https://www.codewrecks.com/post/old/2009/05/the-importance-of-factories-in-testing/</link><pubDate>Fri, 15 May 2009 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/05/the-importance-of-factories-in-testing/</guid><description>&lt;p>One of the most frustrating stuff is refactoring code where errors gets discovered at run-time and not at compile time. These days I&amp;rsquo;m refactoring a section of a project, since some concepts are changed I needed to change also some database columns names.&lt;/p>
&lt;p>Since naming of the table follows a convention that is not fully object oriented, it is easy to made mistake and mistype a column name in the mapping for nhibernate, for this reason I always create smoke test to verify that I&amp;rsquo;m able to save and reload all mapped classes in a database that is a empty copy of developing master database. This means that since I have a lot of not nullable columns, I&amp;rsquo;m forced to populate quite all properties of all object to be able to save them.&lt;/p></description></item><item><title>Mantain your test code carefully</title><link>https://www.codewrecks.com/post/old/2009/05/mantain-your-test-code-carefully/</link><pubDate>Mon, 11 May 2009 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/05/mantain-your-test-code-carefully/</guid><description>&lt;p>I&amp;rsquo;m working on a project where access to the db is mixed, some data is managed with nhibernate and some other data with stored procedure. This is needed because the project was born without nhibernate, and moreover there are operation that needs to managed bulk insert of a lot of data and I need these operation to be superquick. Despite the reason why I’m working this way I have a lot of test that are bound to database.&lt;/p></description></item><item><title>The importance of overriding ToString for tests</title><link>https://www.codewrecks.com/post/old/2009/04/the-importance-of-overriding-tostring-for-tests/</link><pubDate>Fri, 24 Apr 2009 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/04/the-importance-of-overriding-tostring-for-tests/</guid><description>&lt;p>Standard behavior of ToString is to print class or structure name. Sometimes if you never need to call tostring for class in application you will avoid to override this basic behavior. Suppose you have this simple structure.&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-CSharp" data-lang="CSharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">struct&lt;/span> &lt;span style="color:#a6e22e">Range&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> Int32 Left;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> Int32 Rigth;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin. http://dunnhq.com -->
&lt;p>This is a simple structure with two field, now I have this test.&lt;/p></description></item><item><title>Multithread testing</title><link>https://www.codewrecks.com/post/old/2009/04/multithread-testing/</link><pubDate>Fri, 10 Apr 2009 02:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/04/multithread-testing/</guid><description>&lt;p>Testing multithreaded objects are quite complex. I have an object that keeps care of executing some action in a different thread, monitor progress of that action, and then signal to the caller progress and return value. for testing purpose I write a simple action like this.&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-CSharp" data-lang="CSharp">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">internal&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">TestStandard&lt;/span> : AsyncOperationBase
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">protected&lt;/span> &lt;span style="color:#66d9ef">override&lt;/span> &lt;span style="color:#66d9ef">object&lt;/span> InnerExecute()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i = &lt;span style="color:#ae81ff">0&lt;/span>; i &amp;lt; &lt;span style="color:#ae81ff">10&lt;/span>; i++)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> OnProgress(i * &lt;span style="color:#ae81ff">10&lt;/span>, (i * &lt;span style="color:#ae81ff">10&lt;/span>).ToString());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#e6db74">&amp;#34;OOK&amp;#34;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin. http://dunnhq.com -->
&lt;p>This class inherits from AsyncOperationBase, it makes a simple iteration, raises 10 progress event and returns &lt;em>OOK&lt;/em>. What I want to test is OperationManager Object that have a similar function&lt;/p></description></item><item><title>Smoke Test to the rescue</title><link>https://www.codewrecks.com/post/old/2009/03/smoke-test-to-the-rescue/</link><pubDate>Mon, 02 Mar 2009 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/03/smoke-test-to-the-rescue/</guid><description>&lt;p>A particular type of Unit Test are called &lt;a href="http://xunitpatterns.com/Smoke%20Test.html">Smoke Tests&lt;/a>, and are of great importance in a project. This &lt;a href="http://en.wikipedia.org/wiki/Smoke_testing">term&lt;/a> originally derive from &lt;a href="http://en.wikipedia.org/wiki/Electronics">Electronics&lt;/a> where the smoke test means &amp;ldquo;light the board and look if you can see any smoke&amp;rdquo;. In software engineering we can use the same metaphor to verify if some piece of software &amp;ldquo;smokes when used&amp;rdquo;.&lt;/p>
&lt;p>&lt;a href="https://www.codewrecks.com/blog/wp-content/uploads/2009/03/image.png">&lt;a target="_blank" href="https://www.codewrecks.com/blog/wp-content/uploads/2009/03/image-thumb.png"> &lt;img src="https://www.codewrecks.com/blog/wp-content/uploads/2009/03/image-thumb.png" alt="image" />&lt;/a>&lt;/a>&lt;/p>
&lt;p>The purpose of a smoke test is to verify some basilar property of a component, and can be very simple, it simply calls some functions or class methods, just to see if they exists or if they throw exceptions when called.&lt;/p></description></item><item><title>Test Drive with database</title><link>https://www.codewrecks.com/post/old/2009/01/test-drive-with-database/</link><pubDate>Tue, 20 Jan 2009 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2009/01/test-drive-with-database/</guid><description>&lt;p>If you need to &lt;a href="http://www.codewrecks.com/blog/index.php/2008/09/30/database-testing/">test drive with a database&lt;/a>  you can find a lot of problems. The basics of test drive with database is using a database sandbox, and creating a series of scripts that takes the database in a well known state before the run of each test.&lt;/p>
&lt;p>In my projects I use NHibernate but there are quite often also some part of the database handled with stored or accessed through a datalayer. In such a situation I cannot use the capability of nhibernate to regenerate the schema, because some tables and stored are outside the control of nhibernate.&lt;/p></description></item><item><title>Again On randomizer</title><link>https://www.codewrecks.com/post/old/2008/12/again-on-randomizer/</link><pubDate>Sat, 06 Dec 2008 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/12/again-on-randomizer/</guid><description>&lt;p>If you read &lt;a href="http://www.codewrecks.com/blog/index.php/2008/12/06/randomizer-nunit-addin/">last post&lt;/a> you saw how to write a simple randomizer for the execution of NUnit test, but it has a problem, it mess up the nunit interface. The solution is not to ovveride the Tests property, but overriding the way the test are executed. To make it simple I simply take the TestSuite.cs file from original Nunit source code, then I simply change the order in witch the test are executed.&lt;/p></description></item><item><title>Randomizer nunit addin</title><link>https://www.codewrecks.com/post/old/2008/12/randomizer-nunit-addin/</link><pubDate>Sat, 06 Dec 2008 05:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/12/randomizer-nunit-addin/</guid><description>&lt;p>Nunit can be extended in many way writing simple addins, I never tried to write an addin but since Nunit have some limitations I do not like I tried to create a very simple addin that permits me to randomize execution of tests.&lt;/p>
&lt;p>Randomization is really an interesting stuff because it helps to find interacting tests since at each execution we run tests in different orders. The code can be found at this subversion repository (&lt;a href="http://dotnetmarcheproject.googlecode.com/svn/trunk/Common/DotNetMarche.NunitExtension" title="https://dotnetmarcheproject.googlecode.com/svn/trunk/Common/DotNetMarche.NunitExtension">http://dotnetmarcheproject.googlecode.com/svn/trunk/Common/DotNetMarche.NunitExtension&lt;/a>) and it is quite rough but it works.&lt;/p></description></item><item><title>On SetUp and TearDown in Nunit</title><link>https://www.codewrecks.com/post/old/2008/12/on-setup-and-teardown-in-nunit/</link><pubDate>Sat, 06 Dec 2008 03:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/12/on-setup-and-teardown-in-nunit/</guid><description>&lt;p>&lt;a href="http://www.nunit.org/index.php?p=setup&amp;amp;amp;r=2.4.8">SetUp&lt;/a> and &lt;a href="http://www.nunit.org/index.php?p=teardown&amp;amp;amp;r=2.4.8">TearDown&lt;/a> are two attributes used to mark two methods as prologue and epilogue for each test of a fixture. Here is a typical use in test based on Rhino Mock:&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span> MockRepository mrepo;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[SetUp]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> SetUp()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> mrepo = &lt;span style="color:#66d9ef">new&lt;/span> MockRepository();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[TearDown]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> TearDown()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> mrepo.VerifyAll();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin. http://dunnhq.com -->
&lt;p>With these two attributes you can automate the creation and verification of MockRepository, but it is so good? Let&amp;rsquo;s run a couple of tests.&lt;/p></description></item><item><title>Terminating a fluent interface</title><link>https://www.codewrecks.com/post/old/2008/10/terminating-a-fluent-interface/</link><pubDate>Tue, 28 Oct 2008 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/10/terminating-a-fluent-interface/</guid><description>&lt;p>I  usually use a fluent interface to make assertion on data on database, a typical assertion looks like&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>DbAssert.OnQuery(&lt;span style="color:#e6db74">&amp;#34;select * from tablename&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .That(&lt;span style="color:#e6db74">&amp;#34;column1&amp;#34;&lt;/span>, &lt;span style="color:#66d9ef">Is&lt;/span>.EqualTo(&lt;span style="color:#ae81ff">15&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .That(&lt;span style="color:#e6db74">&amp;#34;column2&amp;#34;&lt;/span>, &lt;span style="color:#66d9ef">Is&lt;/span>.EqualTo(&lt;span style="color:#ae81ff">90&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .That(&lt;span style="color:#e6db74">&amp;#34;column2&amp;#34;&lt;/span>, &lt;span style="color:#66d9ef">Is&lt;/span>.EqualTo(&lt;span style="color:#ae81ff">99&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .ExecuteAssert();&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin. http://dunnhq.com -->
&lt;p>This makes me possible to express simple database assertion to verify database conditions expressed by a series of Nunit.Constraints on field of a query, it is very useful when I have to test stored procedures or verify that NHibernate mappings works as expected. If you look closely to the syntax it terminate with a &lt;em>ExecuteAssert&lt;/em> call that actually does the assertion. This kind of syntax makes me a little worried, because you can write an assertion like this&lt;/p></description></item><item><title>How to report a bug the importance of good details and reproducibility information</title><link>https://www.codewrecks.com/post/old/2008/10/how-to-report-a-bug-the-importance-of-good-details-and-reproducibility-information/</link><pubDate>Mon, 20 Oct 2008 08:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/10/how-to-report-a-bug-the-importance-of-good-details-and-reproducibility-information/</guid><description>&lt;p>During application&amp;rsquo;s lifecycle, the activity of bug tracking is a really important one. You should use some software (&lt;a href="http://en.wikipedia.org/wiki/Team_Foundation_Server">Team foundation server&lt;/a> or some free tools like &lt;a href="http://www.mantisbt.org/">mantis&lt;/a>) to keep track of application&amp;rsquo;s bugs. Usually, even if you use Test Driven Approach, you cannot intercept all bugs with unit tests, so you should be prepared to receive some issues in the Bug Tracker.&lt;/p>
&lt;p>Issues are inserted by &lt;em>testers, users&lt;/em>or &lt;em>developer&lt;/em> or whoever person that uses the software during development,  and it is really important that bugs are reported correctly. Using a &lt;a href="http://en.wikipedia.org/wiki/Bug_tracker">Bug Tracking System&lt;/a> helps you a lot, but there is always the need of some rules that everyone should follow to report a bug. One of the most important rule is &lt;em>always add &lt;a href="http://en.wikipedia.org/wiki/Reproducibility">reproducibility&lt;/a> information&lt;/em>. Here is a story happened to me some time ago.&lt;/p></description></item><item><title>Database Testing</title><link>https://www.codewrecks.com/post/old/2008/09/database-testing/</link><pubDate>Tue, 30 Sep 2008 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/09/database-testing/</guid><description>&lt;p>Tests and Databases are two words that does not fit well together. Usually tests involving database interaction suffers by these smells&lt;/p>
&lt;ol>
&lt;li>&lt;a href="http://xunitpatterns.com/Erratic%20Test.html">Interacting Test&lt;/a>: since each test can modify data in database it is highly possible that data written by a test can make another test fail. Moreover if more than one developer use the same database to run the test you can face a &lt;strong>Test Run War&lt;/strong> smell, where two or more unrelated tests are run concurrently on the same resources.&lt;/li>
&lt;li>&lt;a href="http://xunitpatterns.com/Slow%20Tests.html">Slow test&lt;/a>: Writing and reading from a database can involve reading and writing on disk, and this can make your test run slower.&lt;/li>
&lt;li>&lt;a href="http://xunitpatterns.com/High%20Test%20Maintenance%20Cost.html">High Test Maintenance cost&lt;/a>: It is not simple to write test for database, moreover tests are susceptible of schema change, and a large amount of tests could fail even after a simple schema change.&lt;/li>
&lt;/ol>
&lt;p>Among these, there are other little smells around tests that involve databases, so it is a good starting point trying to understand if we can keep database out of tests. Lets examine the most obvious situations where a database is involved in a test.&lt;/p></description></item><item><title>How many test should I write</title><link>https://www.codewrecks.com/post/old/2008/09/how-many-test-should-i-write/</link><pubDate>Thu, 25 Sep 2008 00:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/09/how-many-test-should-i-write/</guid><description>&lt;p>One of my italian &lt;a href="http://dotnetumbria.org/blogs/cruciani/default.aspx">Friend&lt;/a> once asked me &lt;em>what is the percentage of code coverage that you consider enough for your tests?&lt;/em>. The answer is that probably there is not one.&lt;/p>
&lt;p>If you write a project on your own you can set some limit (Es. 80% code coverage) but in my experience, in the real world, quite often you work in a team that does not use unit testing at all. Trying to introduce Unit Testing practices in a team it is a difficult stuff, we are always in a hurry, and the typical objection to testing is &lt;em>I do not have time to write production code, how can I write test too?&lt;/em>. In my experience you should try to introduce testing in more graceful way, surely not setting some code coverage limit.&lt;/p></description></item><item><title>Slow tests with nunit 24 and nhibernate</title><link>https://www.codewrecks.com/post/old/2008/09/slow-nunit-24-test-with-nhibernate-maybe-it-is-log-problem/</link><pubDate>Fri, 05 Sep 2008 10:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/09/slow-nunit-24-test-with-nhibernate-maybe-it-is-log-problem/</guid><description>&lt;p>I noticed that when I used nunit 2.4 test runner it is really slower than 2.2. The reason is that in 2.4 the nunit test runner will use log4net as default logger, and if you do not disable logging, you will see in log tab an enormous amount of text.&lt;/p>
&lt;p>The reason is that nunit used default log level of “DEBUG”, and this in turn means that nhibernate will run with full logging enabled, and this is a really waste of time because nhibernate really log everything with DEBUG level. The solution was (until version 2.6) to disable the log tab of the test runner, but in subsequent version this behavior seems to be corrected. So upgrade to the latest version if you experience slow tests with nhibernate and nunit 2.4.x where X &amp;lt; 8 :D.&lt;/p></description></item><item><title>Run test automatically</title><link>https://www.codewrecks.com/post/old/2008/07/run-test-automatically/</link><pubDate>Tue, 15 Jul 2008 01:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/07/run-test-automatically/</guid><description>&lt;p>The third commandment of unit testing is “Run Test Automatically”, Do not rely on individual developers to run test, the temptation to avoid test run is behind any corner. Use some Continuous Integration tool like CC.NET to make all tests run on every check-in, and set the CC to broke the build if some test fails.&lt;/p>
&lt;p>It is easy to setup a central system that runs your tests at every modification on the code, and most important, noone should check-in code that broke some tests, because it would be a regression of the software itself. A CC.NET can easily avoid such a situation.&lt;/p></description></item><item><title>Run test code often</title><link>https://www.codewrecks.com/post/old/2008/07/run-test-code-often/</link><pubDate>Fri, 11 Jul 2008 09:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/07/run-test-code-often/</guid><description>&lt;p>Some days ago &lt;a href="http://www.codewrecks.com/blog/index.php/2008/07/02/test-code-is-first-class-code/">I was thinking&lt;/a> about the good practices of testing. Immediately after the first commandment “test code is First Class code” it comes the “Run test code really often”.&lt;/p>
&lt;p>If you run the test code often, you immediately know when you have broke something. Think to the following scenario, you write 200 lines of new code, then you decide to write tests for them, but you discovered that a large amount of old tests are broken; now it is difficult to say where did you introduce bugs, and you need to spent time to find the cause of the error.&lt;/p></description></item><item><title>Test code is quotFirst class codequot</title><link>https://www.codewrecks.com/post/old/2008/07/test-code-is-first-class-code/</link><pubDate>Wed, 02 Jul 2008 01:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/07/test-code-is-first-class-code/</guid><description>&lt;p>In an hypothetical “ten Commandments” of the Unit Test probably the first is&lt;/p>
&lt;blockquote>
&lt;p>Test code is First Class Code&lt;/p>&lt;/blockquote>
&lt;p>I believe that one of the worst mistake a developer can do when writing Unit Tests is to consider unit test “second class code”, in the end the test code does not goes into production (pay attention to the smell &lt;a href="http://xunitpatterns.com/Test%20Logic%20in%20Production.html">test logic in production)&lt;/a> so it does not worth to spend too much time with Test Code.&lt;/p></description></item><item><title>The wonderful world of Unit Testing</title><link>https://www.codewrecks.com/post/old/2008/07/the-wonderful-world-of-unit-testing/</link><pubDate>Tue, 01 Jul 2008 05:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/07/the-wonderful-world-of-unit-testing/</guid><description>&lt;p>Last Friday our usergroup organized a &lt;a href="http://dotnetmarche.org/eventi/Default.aspx?IDevento=21">Workshop&lt;/a> with the argument “unit Testing and asp.net MVC”. The event was good, I was one the speakers,  and did a presentation on “Introduction to Testing”. The audience was interested, most of the attendee remained until 20:00 PM, even if the official Close Time was 19:00. People did a lot of questions and seems that the overall interest for Unit Testing world is growing.&lt;/p>
&lt;p>It &lt;a href="http://binstock.blogspot.com/2008/05/is-popularity-of-unit-tests-waning.html">seems&lt;/a> that we are at a point where a lot of people heard about these “unit Tests”, but only few of them really knows the complexity and the deep of the argument. Doing Unit Testing is not a matter of knowing a tool or another. You can use nUnit, xUnit, mbUnit, msTest or wethever tool you like, but the basis of Unit Testing is not dependant on tools or language or environment.&lt;/p></description></item><item><title>A better nUnit assertion to verify content of a database Row</title><link>https://www.codewrecks.com/post/old/2008/06/a-better-nunit-assertion-to-verify-content-of-a-database-row/</link><pubDate>Mon, 30 Jun 2008 08:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/06/a-better-nunit-assertion-to-verify-content-of-a-database-row/</guid><description>&lt;p>Sometimes you need to check that the content of various fields in a database row match some constraints, in this situation a little helper could make it possible to write more elegant assertion&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>[Test]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> void TestInsertACustomerDataFluent()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#960050;background-color:#1e0010">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> NorthwindCustomerDao sut &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> NorthwindCustomerDao();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sut.CreateACustomer(&lt;span style="color:#e6db74">&amp;#34;RICCI&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;DotNetMarche&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;contact&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;Loc piano frassineta 31&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DbAssert.OnQuery(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">@&lt;/span>&lt;span style="color:#e6db74">&amp;#34;SELECT * from Customers where CustomerId = &amp;#39;RICCI&amp;#39;&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .That(&lt;span style="color:#e6db74">&amp;#34;CustomerID&amp;#34;&lt;/span>, &lt;span style="color:#66d9ef">Is&lt;/span>.EqualTo(&lt;span style="color:#e6db74">&amp;#34;RICCI&amp;#34;&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .That(&lt;span style="color:#e6db74">&amp;#34;CompanyName&amp;#34;&lt;/span>, &lt;span style="color:#66d9ef">Is&lt;/span>.EqualTo(&lt;span style="color:#e6db74">&amp;#34;DotNetMarche&amp;#34;&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .That(&lt;span style="color:#e6db74">&amp;#34;ContactName&amp;#34;&lt;/span>, &lt;span style="color:#66d9ef">Is&lt;/span>.EqualTo(&lt;span style="color:#e6db74">&amp;#34;contact&amp;#34;&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .That(&lt;span style="color:#e6db74">&amp;#34;Address&amp;#34;&lt;/span>, Text.&lt;span style="color:#66d9ef">Contains&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;31&amp;#34;&lt;/span>)).ExecuteAssert();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#960050;background-color:#1e0010">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin. http://dunnhq.com -->
&lt;p>The assertion can be read very quicly, assert that on query “Select … ” CustomerID is equal to Ricci, etc etc. The advantage is that you can easily use constraint for each field, in this way the whole assertion is really clear. The class to obtain this result is the following&lt;/p></description></item><item><title>Nunit and standard assertion</title><link>https://www.codewrecks.com/post/old/2008/06/nunit-and-standard-assertion/</link><pubDate>Tue, 03 Jun 2008 04:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/06/nunit-and-standard-assertion/</guid><description>&lt;p>If you use Nunit and use standard System.Diagnostics.Debug.Assert in your code, you can get tired of the messagebox that is raised when a standard assertion fail. To avoid this, you can use app.config to completely remove all listener during the test.&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;system.diagnostics&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;trace&lt;/span> &lt;span style="color:#a6e22e">autoflush=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;false&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">indentsize=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;4&amp;#34;&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;listeners&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;clear/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;/listeners&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;/trace&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;/system.diagnostics&amp;gt;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin. http://dunnhq.com -->
&lt;p>This solves the problem, now you can launch nunit interface, run the test and get rid of the annoying messagebox that gets displayed when a standard assertion fail. If you do not want to use app.config, you can still create a base test class, and clear the listeners in the fixture setup.&lt;/p></description></item><item><title>Nunit and PropertyConstraint</title><link>https://www.codewrecks.com/post/old/2008/04/nunit-and-propertyconstraint/</link><pubDate>Mon, 07 Apr 2008 11:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/04/nunit-and-propertyconstraint/</guid><description>&lt;p>The PropertyConstraint of nunit is useful to assert some condition on a property of an object. This constraint permits to specify the Name of the property and then a constraint on his value. The only thing that miss is a better error message when the object does not contains the specified property. Suppose you write a wrong test like this&lt;/p>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>[Test]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>public void TestErrorMessages() {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> List&lt;span style="color:#f92672">&amp;lt;SimpleTwoProps&amp;gt;&lt;/span> list = CreateTestList();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assert.That(list, new PropertyConstraint(&amp;#34;PropB&amp;#34;, new EqualConstraint(2)));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin. http://dunnhq.com -->
&lt;p>This test will fail because the List does not have PropB property, the error from nunit is.&lt;/p></description></item><item><title>NUNIT and C 35</title><link>https://www.codewrecks.com/post/old/2008/03/nunit-and-c-35/</link><pubDate>Fri, 21 Mar 2008 01:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/03/nunit-and-c-35/</guid><description>&lt;p>One of the most important characteristic of a test is readability, the test should be clear and its intent should be self evident. When working with domain object it is recurring to make test to assert that in some collection we have a fixed amount of objects with a given property equal to a given value. Suppose we have a simple class with two properties, PropertyA and PropertyB. Lets build a little collection to make some assert.&lt;/p></description></item><item><title>Nunit fluent some details</title><link>https://www.codewrecks.com/post/old/2008/02/nunit-fluent-propertyadaptor/</link><pubDate>Tue, 05 Feb 2008 02:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2008/02/nunit-fluent-propertyadaptor/</guid><description>&lt;p>In old post I spoke about one little library to easy the use of nunit assertion with fluent interface. All the game is done with a MyConstraintBuilder class that offers some basic properties and methods to build the assert expression. Internally I use a stack to store all the constraint&lt;/p>
&lt;p>privateStack&amp;lt;Constraint&amp;gt; constraints = newStack&amp;lt;Constraint&amp;gt;();&lt;/p>
&lt;p>this permits me to create simple fluent interface in this way.&lt;/p>
&lt;p>publicMyConstraintBuilder Or {&lt;br>
get {&lt;br>
constraints.Push(newOrOperator());&lt;br>
returnthis;&lt;br>
}&lt;br>
}&lt;/p></description></item><item><title>Comparing Entities</title><link>https://www.codewrecks.com/post/old/2007/12/comparing-entities/</link><pubDate>Fri, 07 Dec 2007 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2007/12/comparing-entities/</guid><description>&lt;p>This morning a friend of mine &lt;a href="http://blogs.ugidotnet.org/AntonioGanci/archive/2007/12/07/90154.aspx">post about testing for equality of two class&lt;/a>. My opinion is that to test if we have the need to test if two entities has all or some property equals it is better not to override equals or modify the original entity. I’m collecting a series of helpers class I written over time for NUNIT and I’m now able to write simple test like this.&lt;/p></description></item><item><title>More fluent on Nunit</title><link>https://www.codewrecks.com/post/old/2007/12/more-fluent-on-nunit/</link><pubDate>Fri, 07 Dec 2007 07:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2007/12/more-fluent-on-nunit/</guid><description>&lt;p>In the &lt;a href="http://www.nablasoft.com/Alkampfer/?p=122">previous post&lt;/a> I talked about nunit and fluent interface, I did some modification, now I can write&lt;/p>
&lt;p>[Test]&lt;br>
publicvoid TestSimpleEqualsConditionedProperty3() {&lt;br>
SimpleThreeProps obja = newSimpleThreeProps(“test”, 15, “EQ”);&lt;br>
SimpleThreeProps objb = newSimpleThreeProps(“test”, 1, “EQ”);&lt;br>
Assert.That(obja, MyIs.SomePropertiesEqualTo(objb, “PropA”, “ThirdProperty”)&lt;br>
.And.Property(“PropB”).GreaterThan(14));&lt;br>
}&lt;/p>
&lt;p>Now I can check for equality with a list of properties but added support to create constraint over the single property using the basic property constraint of nunit.&lt;/p>
&lt;p>Alk&lt;/p></description></item><item><title>Model View Controller and Cross Thread Ui methods invoke</title><link>https://www.codewrecks.com/post/old/2007/10/model-view-controller-and-cross-thread-ui-methods-invoke/</link><pubDate>Tue, 30 Oct 2007 05:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2007/10/model-view-controller-and-cross-thread-ui-methods-invoke/</guid><description>&lt;p>If you adopt a MVC pattern for your code in windows forms, each form should implements some Interface to make possible for the controller to communicate with the UI. This is needed so the Controller does not work directly with the form but instead with an interface such as &lt;em>IShippingUi&lt;/em>. But what happens when the function of the controller are invoked not by the main thread that rules the UI&amp;hellip;the result is an exception.&lt;/p></description></item><item><title>Complex fixture teardown</title><link>https://www.codewrecks.com/post/old/2007/09/complex-fixture-teardown/</link><pubDate>Sat, 08 Sep 2007 06:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2007/09/complex-fixture-teardown/</guid><description>&lt;p>&lt;a href="http://www.nablasoft.com/Alkampfer/storage/test.7z">Download&lt;/a> the code of the post.&lt;/p>
&lt;p>Have you ever deal with tests having really complex fixtures? Sometimes it happens for projects that are not designed for testability, quite often you need to refactor, you begin to prepare a series of basic tests, but the interactions between the components of the system are really complex, and when a test gone wrong the whole suite is compromised. Yesterday I dealed with a series of tests that needed a really complex fixture, composed by classes that opened sockets and did all sort of complex thing (remoting, socket, shared variable, etc etc). The first test suite was a pity result, when a test failed the fixture was not cleared well, all remaining test will fail and it is very difficult to understand where is the error. Let’s try to simulate the same situation: here is a possible test.&lt;/p></description></item><item><title>WatiN and weird names of aspnet controls</title><link>https://www.codewrecks.com/post/old/2007/05/watin-and-weird-names-of-aspnet-controls/</link><pubDate>Wed, 30 May 2007 00:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2007/05/watin-and-weird-names-of-aspnet-controls/</guid><description>&lt;p>Asp.Net gives to HTML controls weird names, composed by the hierarchy of control used to generate the page. This causes problems for example writing WatiN test, because we cannot use Find.ById or use the Id of the control, because if we will change the layout of the page the name of the controls will change.&lt;/p>
&lt;p>One of the possible solution is to use regular expression, using a regex that will search for controls that ends with a specific string value. To easy the use of this method we can realize a simple helper class.&lt;/p></description></item><item><title>WatiN recorder</title><link>https://www.codewrecks.com/post/old/2007/05/watin-recorder/</link><pubDate>Tue, 29 May 2007 23:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2007/05/watin-recorder/</guid><description>&lt;p>Recently I discovered &lt;a href="http://watin.sourceforge.net/">WatiN&lt;/a> library to automate testing of web site with IE. This library is very useful, but sometimes writing test is a tedious process, for this reason there are some freeware recorder that are able to record a navigation in IE and automatically create code for WatiN test. One tool is WatinTestRecord, available &lt;a href="http://watintestrecord.sourceforge.net">here&lt;/a>, it is a good product, and it’s freeware. Another product is Watin Recorder Avaliable &lt;a href="http://blogs.conchango.com/richardgriffin/archive/2007/03/13/WATiN-Recorder_2B002B00_-v-1.0-Released.aspx">here&lt;/a>. This second tool is very interesting because it comes with source code, available with subversion at &lt;a href="http://svn.openqa.org/svn/watir-recorder/trunk">http://svn.openqa.org/svn/watir-recorder/trunk&lt;/a>.&lt;/p></description></item><item><title>Design for testability</title><link>https://www.codewrecks.com/post/old/2007/05/design-for-testability/</link><pubDate>Fri, 11 May 2007 22:00:37 +0200</pubDate><guid>https://www.codewrecks.com/post/old/2007/05/design-for-testability/</guid><description>&lt;p>Testing a web application can be challenging, there are a lot of tools to accomplish such a difficult task, replay browser capable of recording the input of the user, library as nUnit Asp.NET or WatiN, but in my opinion the best way to do unit testing on a site, is design the site itself to be testable. In the example attached with this article I show a very simple asp.net page to add two integer number together starting from a canonical version to a more testable form. Page Default.aspx shows a standard implementation where all the code to perform the validation and the addition is enclosed in the code behind file. This example is very simple but is significant because it follows a standard path for web.page, validate user input, perform business logic and show result or error messages to the user. What is wrong with this implementation is the difficulty to do a unit test to verify the correctness of both validation code and business logic. (I know that there is no need to test a simple addition, but think as if this example really contains complex business logic).&lt;/p></description></item></channel></rss>