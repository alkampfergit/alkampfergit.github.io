<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="One of the simplest way to upgrade with minimum risk a Project Collection from TFS 2010 to TFS11 Beta is using the detach/attach feature of TFS, introduced with version 2010. Basically all you need to do is Detach the project collection from the old TFS 2010 server and reattach to a brand new TFS11 server, you can read about the whole procedure in an old post that explain how to Move a Team Project Collection from one server to another one."><meta name=theme-color content="#ffcd00"><meta property="og:title" content="Upgrade TFS2010 to TFS11 with Detach and Attach • Codewrecks"><meta property="og:description" content="One of the simplest way to upgrade with minimum risk a Project Collection from TFS 2010 to TFS11 Beta is using the detach/attach feature of TFS, introduced with version 2010. Basically all you need to do is Detach the project collection from the old TFS 2010 server and reattach to a brand new TFS11 server, you can read about the whole procedure in an old post that explain how to Move a Team Project Collection from one server to another one."><meta property="og:url" content="https://www.codewrecks.com/post/old/2012/03/upgrade-tfs2010-to-tfs11-with-detach-and-attach/"><meta property="og:site_name" content="Codewrecks"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:tag" content="Tfs"><meta property="article:tag" content="Upgrade"><meta property="article:published_time" content="2012-03-20T20:00:37+02:00"><meta property="article:modified_time" content="2012-03-20T20:00:37+02:00"><meta name=twitter:card content="summary"><meta name=generator content="Hugo 0.74.3"><title>Upgrade TFS2010 to TFS11 with Detach and Attach • Codewrecks</title><link rel=canonical href=https://www.codewrecks.com/post/old/2012/03/upgrade-tfs2010-to-tfs11-with-detach-and-attach/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/assets/css/main.ab98e12b.css><style>:root{--color-accent:#ffcd00}</style><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-1773115-4','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js></script><script src=https://www.codewrecks.com/js/jquery-eu-cookie-law-popup.js></script><link rel=stylesheet href=https://www.codewrecks.com/css/jquery-eu-cookie-law-popup.css></head><body class="page type-post"><div class=site><a class=screen-reader-text href=#content>Skip to Content</a><div class=main><nav id=main-menu class="menu main-menu" aria-label="Main Menu"><div class=container><ul><li class=item><a href=/>Home</a></li><li class=item><a href=/categories/>Categories</a></li><li class=item><a href=/about/>About</a></li><li class=item><a href=/privacy/>Privacy</a></li></ul></div></nav><div class=header-widgets><div class=container><style>.widget-breadcrumbs li:after{content:'\2f '}</style><section class="widget widget-breadcrumbs sep-after"><nav id=breadcrumbs><ol><li><a href=/>Home</a></li><li><a href=/post/>Posts</a></li><li><span>Upgrade TFS2010 to TFS11 with Detach and Attach</span></li></ol></nav></section></div></div><header id=header class="header site-header"><div class="container sep-after"><div class=header-info><p class="site-title title">Codewrecks</p><p class="desc site-desc">Wrecks of code floating in the sea of internet</p></div></div></header><main id=content><article lang=en class=entry><header class="header entry-header"><div class="container sep-after"><div class=header-info><h1 class=title>Upgrade TFS2010 to TFS11 with Detach and Attach</h1></div><div class=entry-meta><span class=posted-on><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span class=screen-reader-text>Posted on</span>
<time class=entry-date datetime=2012-03-20T20:00:37+02:00>2012, Mar 20</time></span>
<span class=reading-time><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 15 15"/></svg>3 mins read</span></div></div></header><div class="container entry-content"><p>One of the simplest way to <em>upgrade with minimum risk</em> a <strong>Project Collection</strong> from <strong>TFS 2010</strong> to <strong>TFS11 Beta</strong> is using the detach/attach feature of TFS, introduced with version 2010.  Basically all you need to do is Detach the project collection from the old TFS 2010 server and reattach to a brand new TFS11 server, you can read about the whole procedure in an old post that explain how to <a href=http://www.codewrecks.com/blog/index.php/2010/01/13/moving-a-teamprojectcollection-from-one-server-to-another/><strong>Move a Team Project Collection from one server to another one</strong></a>.</p><p>This operation works because the<em>attach</em> routine of TFS11 performs an upgrade during the attach phase and this is done transparently to the user. The real good aspect of this operation is that after the attach process you can reattach the Project Collection in the old server and continue to work wit it. The attach procedure in TFS11 is really simple, when you <em>restored the Project Collection Database</em> in the new server, you should open <em>TFS Administration Console</em>and choose to <em>Attach a Project Collection</em>.</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image22.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb22.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb22.png alt="List of available Project Collection to Attach"></a></a></p><p><em><strong>Figure 1</strong></em>: <em>Attach wizard automatically detect any database that contains a detached Project Collection.</em></p><p>You should only give a name to the project collection do verification checks and press Attach, everything is done automatically.</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image23.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb23.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb23.png alt="Result of Attach Operation"></a></a></p><p><em><strong>Figure 2</strong></em>: <em>Result of Attach operation, the Project Collection is now converted to TFS11.</em></p><p>This technique is optimal to <strong>evaluate the upgrade process</strong> , *without requiring any discontinuity in the service,*all you need to do is detach/attach the Team Project Collection from the old server to the new one, then perform all the manual upgrade operations needed to use new features and perform some test to verify if the upgrade procedure did not ruin anything. All these operation can be performed <em>while the team still work on the old TFS server</em> because you can immediately reattach the Project Collection in the old server. When everything is ok you can schedule an offline period where you will do another detach/attach/upgrade to move all the team on upgraded collection.</p><p>After the collection is imported you still need to do some manual post upgrade operations if you want to use the new features offered by <strong>TFS11</strong> , because the imported collection still contains old <strong>Process Template Definitions</strong> , that does not support new features. To accomplish this operation you need to download <a href="http://www.microsoft.com/download/en/details.aspx?displaylang=en&id=29047">Visual Studio 11 Beta Update Files</a>, a tool to enable new TFS11 features after a Collection was upgraded from TFS2010. You can find a detailed discussion in this MSDN article named: <a href="http://msdn.microsoft.com/en-us/library/ff432837%28v=vs.110%29.aspx#download">Updating an Upgraded Team Project to Access New Features</a>.</p><p>If you omit this part you got errors when you try to use new features related to Work Items, if you browse the home page of the project with TFS Web Access you will got an error</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image24.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb24.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb24.png alt="Errors in Web Access home page because the Process Template was not upgraded"></a></a></p><p><em><strong>Figure 3</strong></em>: <em>Imported Team Project still uses old Process Template, new Web Access features are not available.</em></p><p>After you unzip the Visual Studio 11 Beta Update Files and issued the upgrade command Es. <em>updateProject " <strong>http://vsalm:8080/tfs/ImportedCollection&rdquo;</strong> &ldquo;Tailspin Toys&rdquo; Agile</em>you can use all the new cool feature of TFS11.</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image25.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb25.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb25.png alt=image></a></a></p><p><em><strong>Figure 4</strong></em>: <em>Now everything works, you can see the burndown and tiles for favorites elements</em></p><p>Now your Project Collection is ready to work with TFS11.</p><p>Gian Maria.</p></div><footer class=entry-footer><div class="container sep-before"><div class=categories><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5A2 2 0 014 3H9l2 3h9a2 2 0 012 2z"/></svg><span class=screen-reader-text>Categories: </span><a class=category href=/categories/team-foundation-server/>Team Foundation Server</a></div><div class=tags><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2H12l8.59 8.59A2 2 0 0120.59 13.41z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=screen-reader-text>Tags: </span><a class=tag href=/tags/tfs/>Tfs</a>, <a class=tag href=/tags/upgrade/>Upgrade</a></div></div></footer></article><nav class=entry-nav><div class=container><div class="prev-entry sep-before">Leave comment in GitHub discussion page<a target=_blank href=https://github.com/alkampfergit/personal-blog/discussions> alkampfergit/personal-blog/discussions</a></div><div class="prev-entry sep-before"><a href=/post/old/2012/03/using-mongo-database-to-store-log4net-logs/><span aria-hidden=true><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="20" y1="12" x2="4" y2="12"/><polyline points="10 18 4 12 10 6"/></svg>Previous</span>
<span class=screen-reader-text>Previous post: </span>Using Mongo Database to store Log4Net logs</a></div><div class="next-entry sep-before"><a href=/post/old/2012/03/could-not-load-file-or-assembly-microsoft-reportviewer-webforms/><span class=screen-reader-text>Next post: </span>Could not load file or assembly MicrosoftReportViewerWebForms<span aria-hidden=true>Next<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="4" y1="12" x2="20" y2="12"/><polyline points="14 6 20 12 14 18"/></svg></span></a></div></div></nav></main><footer id=footer class=footer><div class="container sep-before"><section class="widget widget-social_menu sep-after"><nav aria-label="Social Menu"><ul><li><a href=https://github.com/alkampfergit target=_blank rel=noopener><span class=screen-reader-text>Open Github account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li><a href=https://twitter.com/alkampfer target=_blank rel=noopener><span class=screen-reader-text>Open Twitter account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><title>Twitter icon</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></li><li><a href=mailto:alkampfer@nablasoft.com target=_blank rel=noopener><span class=screen-reader-text>Contact via Email</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></li><li><a href=https://linkedin.com/in/gianmariaricci target=_blank rel=noopener><span class=screen-reader-text>Open Linkedin account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a></li></ul></nav></section><div class=copyright><p>&copy; 2020-2022 Ricci Gian Maria</p></div></div></footer></div></div><script>window.__assets_js_src="/assets/js/"</script><script src=/assets/js/main.c3bcf2df.js></script><script>console.log("this is cookie law");$(document).euCookieLawPopup().init({cookiePolicyUrl:'/privacy/',popupPosition:'top',colorStyle:'default',compactStyle:false,popupTitle:'This website is using cookies',popupText:'By continuing I assume your permission to deploy cookies, as detailed in the Privacy &amp; Cookies Policy.',buttonContinueTitle:'Continue',buttonLearnmoreTitle:'Learn more about this site Privacy &amp; Cookies Policy',buttonLearnmoreOpenInNewWindow:true,agreementExpiresInDays:30,autoAcceptCookiePolicy:false,htmlMarkup:null});</script></body></html>