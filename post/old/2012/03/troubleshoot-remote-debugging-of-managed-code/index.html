<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Setting up Remote Debugging is usually a simple task, you can read the Set Up Remote Debugging guide on MSDN and you are ready to go, but sometimes it does not work and you are not able to connect to the remote process; in this post I want to give you some suggestions to troubleshoot the most common problem that you can encounter.
 First: you need to be aware that Remote Debugging Managed Code is only available when you use the authenticated mode, if you run the remote debugger without authentication you can debug only Native Code , but the main problem is that usually the host and remote machine * are not in the same Domain."><meta name=theme-color content="#ffcd00"><meta property="og:title" content="Troubleshoot remote debugging of Managed Code • Codewrecks"><meta property="og:description" content="Setting up Remote Debugging is usually a simple task, you can read the Set Up Remote Debugging guide on MSDN and you are ready to go, but sometimes it does not work and you are not able to connect to the remote process; in this post I want to give you some suggestions to troubleshoot the most common problem that you can encounter.
 First: you need to be aware that Remote Debugging Managed Code is only available when you use the authenticated mode, if you run the remote debugger without authentication you can debug only Native Code , but the main problem is that usually the host and remote machine * are not in the same Domain."><meta property="og:url" content="https://www.codewrecks.com/post/old/2012/03/troubleshoot-remote-debugging-of-managed-code/"><meta property="og:site_name" content="Codewrecks"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:tag" content="Debugging"><meta property="article:tag" content="Visual Studio"><meta property="article:published_time" content="2012-03-22T20:00:37+02:00"><meta property="article:modified_time" content="2012-03-22T20:00:37+02:00"><meta name=twitter:card content="summary"><meta name=generator content="Hugo 0.74.3"><title>Troubleshoot remote debugging of Managed Code • Codewrecks</title><link rel=canonical href=https://www.codewrecks.com/post/old/2012/03/troubleshoot-remote-debugging-of-managed-code/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/assets/css/main.ab98e12b.css><style>:root{--color-accent:#ffcd00}</style><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-1773115-4','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js></script><script src=https://www.codewrecks.com/js/jquery-eu-cookie-law-popup.js></script><link rel=stylesheet href=https://www.codewrecks.com/css/jquery-eu-cookie-law-popup.css></head><body class="page type-post"><div class=site><a class=screen-reader-text href=#content>Skip to Content</a><div class=main><nav id=main-menu class="menu main-menu" aria-label="Main Menu"><div class=container><ul><li class=item><a href=/>Home</a></li><li class=item><a href=/categories/>Categories</a></li><li class=item><a href=/about/>About</a></li><li class=item><a href=/privacy/>Privacy</a></li></ul></div></nav><div class=header-widgets><div class=container><style>.widget-breadcrumbs li:after{content:'\2f '}</style><section class="widget widget-breadcrumbs sep-after"><nav id=breadcrumbs><ol><li><a href=/>Home</a></li><li><a href=/post/>Posts</a></li><li><span>Troubleshoot remote debugging of Managed Code</span></li></ol></nav></section></div></div><header id=header class="header site-header"><div class="container sep-after"><div class=header-info><p class="site-title title">Codewrecks</p><p class="desc site-desc">Wrecks of code floating in the sea of internet</p></div></div></header><main id=content><article lang=en class=entry><header class="header entry-header"><div class="container sep-after"><div class=header-info><h1 class=title>Troubleshoot remote debugging of Managed Code</h1></div><div class=entry-meta><span class=posted-on><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span class=screen-reader-text>Posted on</span>
<time class=entry-date datetime=2012-03-22T20:00:37+02:00>2012, Mar 22</time></span>
<span class=reading-time><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 15 15"/></svg>4 mins read</span></div></div></header><div class="container entry-content"><p>Setting up Remote Debugging is usually a simple task, you can read the <a href=http://msdn.microsoft.com/en-us/library/bt727f1t.aspx>Set Up Remote Debugging</a> guide on MSDN and you are ready to go, but sometimes it does not work and you are not able to connect to the remote process; in this post I want to give you some suggestions to troubleshoot the most common problem that you can encounter.</p><ul><li><strong>First:</strong> <em>you need to be aware that <strong>Remote Debugging Managed Code</strong> is only available when you use the authenticated mode, if you run the remote debugger without authentication you can <strong>debug only Native Code</strong> , but the main problem is that usually <em>the host and remote machine</em> * <strong>are not</strong> in the same Domain</em>. To bypass this situation you need to create what is called “Shadow Account”, this means that you need to have in * <strong>both machines the same user with the same password.</strong> *</li></ul><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image26.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb26.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb26.png alt="How to setup authentication if you do not have a domain"></a></a></p><p><em><strong>Figure 1</strong></em>: <em>How to setup authentication if you do not have a domain</em></p><p>As you can see in <strong>Figure 1</strong> , I logged in the remote machine with the same user I’m logged in the host machine (the machine where I’m running Visual Studio), then I launch the remote debugger and configure to use Windows Authentication, you should also verify that <em>current user has the Debug permission</em>. As you can see from the description of the remote debugger is now operative and tells me: <strong>Msvsmon started a new server named</strong> <a href=mailto:gianmaria.ricci@WIN-FEVDGL2V37P><strong>gianmaria.ricci@WIN-FEVDGL2V37P</strong></a>. The part <a href=mailto:username@machinename>username@machinename</a> is the name of the server.</p><ul><li><p><strong>Second:</strong> *You need to be sure that the appropriate firewall ports are open in both machines, you can verify ports used if you launch the configuration of Remote Debugger, that tells you to open <strong>DCOM port (TCP 135)</strong> and <strong>IPSEC (UDP 4500 / UDP 500)</strong> if you run under IPSEC. If you still have problem to connect, you can try to disable the firewall on both machines, try to connect again, ad if it still does not work you probably have some authentication problem, so refer to first step and verify that you are logged in the remote machine with the same user you are using in the host machine. If you are able to connect with firewall disabled, turn on one debugger at a time (host and remote) and verify which is the one that is blocking the connection.</p></li><li><p><strong>Third:</strong> *please be sure that in the Attach to Process dialog you are using * <strong>Default Transport</strong> *and the qualifier in the form <em><a href=mailto:username@machinename>username@machinename</a></em>, because this is required to do an authenticated connection. Finally, if you are able to see the list of remote processes and attach to them <em>but your breakpoints in code are not hit</em>you should check the type of code you are debugging, pressing <em>Select</em>Button in the Attach To Windows and choose the right type of code that is used by the remote process, as seen in <strong>Figure 2</strong>.</p></li></ul><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image27.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb27.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb27.png alt="Choose the right type of Code Type that is running in the remote process"></a></a></p><p><em><strong>Figure 2</strong></em>: <em>Choose the right type of Code Type that is running in the remote process</em></p><p>Please verify also you have opened in Visual Studio the same code that is running in the remote machine and that <em>Pdb files are correct</em>and also that you are compiling in Debug Mode and generation of Pdb files is enabled in the Visual Studio. (You can even debug a program in release mode, but you need to be sure that you are generating Pdb files in release mode).</p><p>If everything went good and you are able to attach to a remote process, you can also <em>configure Visual Studio to automatically run the program in the remote computer</em> as shown in <strong>Figure 3</strong>. In this scenario usually you can setup a shared folder in the remote machine and configure a post build action that automatically copies the result of the build in the remote machine through the shared folder. The important fact is that the Start External Program should point to a valid executable in the remote machine and the user should be logged in the remote machine with Remote Debugger opened and working.</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image28.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb28.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2012/03/image_thumb28.png alt="Configure Visual Studio to start and debug a process in the remote machine"></a></a></p><p><em><strong>Figure 3</strong></em>: <em>Configure Visual Studio to start and debug a process in the remote machine</em></p><p>Everything should work, when you press F5 the program should start in the remote machine and you have the debugger attached to it.</p><p>Gian Maria.</p></div><footer class=entry-footer><div class="container sep-before"><div class=categories><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5A2 2 0 014 3H9l2 3h9a2 2 0 012 2z"/></svg><span class=screen-reader-text>Categories: </span><a class=category href=/categories/visual-studio/>Visual Studio</a></div><div class=tags><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2H12l8.59 8.59A2 2 0 0120.59 13.41z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=screen-reader-text>Tags: </span><a class=tag href=/tags/debugging/>Debugging</a>, <a class=tag href=/tags/visual-studio/>Visual Studio</a></div></div></footer></article><nav class=entry-nav><div class=container><div class="prev-entry sep-before">Leave comment in GitHub discussion page<a target=_blank href=https://github.com/alkampfergit/personal-blog/discussions> alkampfergit/personal-blog/discussions</a></div><div class="prev-entry sep-before"><a href=/post/old/2012/03/could-not-load-file-or-assembly-microsoft-reportviewer-webforms/><span aria-hidden=true><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="20" y1="12" x2="4" y2="12"/><polyline points="10 18 4 12 10 6"/></svg>Previous</span>
<span class=screen-reader-text>Previous post: </span>Could not load file or assembly MicrosoftReportViewerWebForms</a></div><div class="next-entry sep-before"><a href=/post/old/2012/03/order-by-a-property-expressed-as-string-in-a-linq-query/><span class=screen-reader-text>Next post: </span>Order by a property expressed as string in a LINQ Query<span aria-hidden=true>Next<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="4" y1="12" x2="20" y2="12"/><polyline points="14 6 20 12 14 18"/></svg></span></a></div></div></nav></main><footer id=footer class=footer><div class="container sep-before"><section class="widget widget-social_menu sep-after"><nav aria-label="Social Menu"><ul><li><a href=https://github.com/alkampfergit target=_blank rel=noopener><span class=screen-reader-text>Open Github account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li><a href=https://twitter.com/alkampfer target=_blank rel=noopener><span class=screen-reader-text>Open Twitter account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><title>Twitter icon</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></li><li><a href=mailto:alkampfer@nablasoft.com target=_blank rel=noopener><span class=screen-reader-text>Contact via Email</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></li><li><a href=https://linkedin.com/in/gianmariaricci target=_blank rel=noopener><span class=screen-reader-text>Open Linkedin account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a></li></ul></nav></section><div class=copyright><p>&copy; 2020-2022 Ricci Gian Maria</p></div></div></footer></div></div><script>window.__assets_js_src="/assets/js/"</script><script src=/assets/js/main.c3bcf2df.js></script><script>console.log("this is cookie law");$(document).euCookieLawPopup().init({cookiePolicyUrl:'/privacy/',popupPosition:'top',colorStyle:'default',compactStyle:false,popupTitle:'This website is using cookies',popupText:'By continuing I assume your permission to deploy cookies, as detailed in the Privacy &amp; Cookies Policy.',buttonContinueTitle:'Continue',buttonLearnmoreTitle:'Learn more about this site Privacy &amp; Cookies Policy',buttonLearnmoreOpenInNewWindow:true,agreementExpiresInDays:30,autoAcceptCookiePolicy:false,htmlMarkup:null});</script></body></html>