<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="What is SolrMeter SolrMeter is a nice Java program that allows you to test performances of your Solr installation under heavy load. This tool is not capable of handling very high load with coordination of multiple clients, nor it can test installation with multiple Solr Machines with a round robin to distribute queries across all machines, but it does a really decent work in helping you to have some raw numbers about how your Solr installation perform."><meta name=theme-color content="#ffcd00"><meta property="og:title" content="Running SolrMeter without a UI • Codewrecks"><meta property="og:description" content="What is SolrMeter SolrMeter is a nice Java program that allows you to test performances of your Solr installation under heavy load. This tool is not capable of handling very high load with coordination of multiple clients, nor it can test installation with multiple Solr Machines with a round robin to distribute queries across all machines, but it does a really decent work in helping you to have some raw numbers about how your Solr installation perform."><meta property="og:url" content="https://www.codewrecks.com/post/old/2017/06/running-solrmeter-without-a-ui/"><meta property="og:site_name" content="Codewrecks"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:tag" content="Solr"><meta property="article:published_time" content="2017-06-06T20:00:37+02:00"><meta property="article:modified_time" content="2017-06-06T20:00:37+02:00"><meta name=twitter:card content="summary"><meta name=generator content="Hugo 0.74.3"><title>Running SolrMeter without a UI • Codewrecks</title><link rel=canonical href=https://www.codewrecks.com/post/old/2017/06/running-solrmeter-without-a-ui/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/assets/css/main.ab98e12b.css><style>:root{--color-accent:#ffcd00}</style><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-1773115-4','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js></script><script src=https://www.codewrecks.com/js/jquery-eu-cookie-law-popup.js></script><link rel=stylesheet href=https://www.codewrecks.com/css/jquery-eu-cookie-law-popup.css></head><body class="page type-post"><div class=site><a class=screen-reader-text href=#content>Skip to Content</a><div class=main><nav id=main-menu class="menu main-menu" aria-label="Main Menu"><div class=container><ul><li class=item><a href=/>Home</a></li><li class=item><a href=/categories/>Categories</a></li><li class=item><a href=/about/>About</a></li><li class=item><a href=/privacy/>Privacy</a></li></ul></div></nav><div class=header-widgets><div class=container><style>.widget-breadcrumbs li:after{content:'\2f '}</style><section class="widget widget-breadcrumbs sep-after"><nav id=breadcrumbs><ol><li><a href=/>Home</a></li><li><a href=/post/>Posts</a></li><li><span>Running SolrMeter without a UI</span></li></ol></nav></section></div></div><header id=header class="header site-header"><div class="container sep-after"><div class=header-info><p class="site-title title">Codewrecks</p><p class="desc site-desc">Wrecks of code floating in the sea of internet</p></div></div></header><main id=content><article lang=en class=entry><header class="header entry-header"><div class="container sep-after"><div class=header-info><h1 class=title>Running SolrMeter without a UI</h1></div><div class=entry-meta><span class=posted-on><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span class=screen-reader-text>Posted on</span>
<time class=entry-date datetime=2017-06-06T20:00:37+02:00>2017, Jun 06</time></span>
<span class=reading-time><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 15 15"/></svg>5 mins read</span></div></div></header><div class="container entry-content"><h2 id=what-is-solrmeter>What is SolrMeter</h2><p><a href=https://github.com/tflobbe/solrmeter><strong>SolrMeter</strong></a> <strong>is a nice Java program that allows you to test performances of your Solr installation under heavy load</strong>. This tool is not capable of handling very high load with coordination of multiple clients, nor it can test installation with multiple Solr Machines with a round robin to distribute queries across all machines, but <strong>it does a really decent work in helping you to have some raw numbers about how your Solr installation perform</strong>.</p><blockquote><p>SolrMeter can really helps you to understand how Solr perform especially if you need to compare different schema.xml solution, or different hardware or core configurations.</p></blockquote><p>Using the tool is straightforward: you just need to follow the <a href=https://github.com/tflobbe/solrmeter/blob/wiki/Usage.md>tutorial here</a>, just compile the latest version with Maven, then it is just a matter of creating some files containing: the queries you want to issue (param q=) ,filter queries you want to use (param fq=) and finally a series of fields used for faceting.</p><p>In settings menu you can simply configure everything you need. The first tab allows you to specify all files that contains data to generate the query, as well as the address of the core/collection you want to test.</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image9.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image_thumb9.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image_thumb9.png alt="SolrMeter configuration to issue queries to a SolrCore"></a></a></p><p><em><strong>Figure 1</strong></em>: <em>A typical SolrMeter configuration</em></p><p>Now you can just specify how many query per second you want to issue to your server, press play and the test starts.</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image10.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image_thumb10.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image_thumb10.png alt="How to specify number of query per seconds and then running the test pressing start button."></a></a></p><p><em><strong>Figure 2</strong></em>: <em>Choose query per seconds and then run the test</em></p><h2 id=what-type-of-data-you-can-grab-from-solrmeter>What type of data you can grab from SolrMeter</h2><p><strong>The tool gives you lots of information and graphs that can allow you to understand how well your Solr installation performs</strong> with the set of queries you are issuing to the server. A typical Graph you can look at is the distribution of average response time of the query during the run.</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image11.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image_thumb11.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image_thumb11.png alt="Query history graph shows you the average execution time of a query during time"></a></a></p><p><em><strong>Figure 3</strong></em>: <em>Query History</em></p><p>In <strong>Figure 3</strong> I can see that the average query time for the first 10 seconds is about 375 ms, while for subsequent queries the average response time is under 50 ms. Another interesting graph is distribution of the queries execution time during the load.</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image12.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image_thumb12.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2016/01/image_thumb12.png alt="This graph shows the distribution of response time for queries"></a></a></p><p><em><strong>Figure 4</strong></em>: <em>Average response time for queries</em></p><p>In X axes you have execution time, in Y axes you have number of queries. From the <strong>Figure 4</strong> graph you can verify that almost of the queries were executed under 500ms, with some high peak of some queries that needed 12 seconds to be executed.</p><h2 id=running-without-a-ui>Running without a UI</h2><p>There are other cool features about SolrMeter, but I <strong>want to show you a feature that is less known and that is really useful, the ability to run without a UI</strong>. Once you’ve setup a test load with UI, you can choose file/export to export the actual SolrMeter configuration to a file.</p><blockquote><p>Exporting configuration to a file generates a nice XML file with all the options configured with the UI.</p></blockquote><p>Once you have exported the configuration file, you can copy it, along with SolrMeter jar file and all the various configuration files (the ones with queries, filters, etc) to your target server with SSH (solr is usually installed in a Linux machine without UI).</p><p><strong>Once all the files were copied, it is really simple to edit the main XML configuration files if you need to change something.</strong> You can update the address of the core to test, he location of the various configuration files, etc.</p><p>Running SolrMeter in the very same machine that is running Solr is not usually a good advice, but there are scenarios where running without a UI is the only way to go. As an example, consider an installation where you have your Solr Machines and a web application server installed on Linux without an UI and in an isolated environment where you can access only with SSH. In this scenario, to run a load test you should run the test from the Web Application machine, to really simulate a real scenario from the web application machine to the Solr Machine.</p><blockquote><p>In many scenario you should run your Load test from the machine that is accessing solar, and it has no UI.</p></blockquote><p>Now you need to create an xml file, usually named solrmeter.smc.xml that contains all solrmeter configuration for the run. Here is a possible content.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">60
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; standalone=&#34;no&#34;?&gt;</span>
<span style=color:#75715e>&lt;!DOCTYPE properties SYSTEM &#34;http://java.sun.com/dtd/properties.dtd&#34;&gt;</span>
<span style=color:#f92672>&lt;properties&gt;</span>
<span style=color:#f92672>&lt;comment&gt;</span>Solr Meter Configuration File. Generated at 15-gen-2016<span style=color:#f92672>&lt;/comment&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.query.queryMode&#34;</span><span style=color:#f92672>&gt;</span>standard<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;headless.performQueryOperations&#34;</span><span style=color:#f92672>&gt;</span>true<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.update.documentsToCommit&#34;</span><span style=color:#f92672>&gt;</span>100<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;executor.optimizeExecutor&#34;</span><span style=color:#f92672>&gt;</span>ondemand<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.server.configuration.httpAuthUser&#34;</span><span style=color:#f92672>/&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;statistic.refreshTime&#34;</span><span style=color:#f92672>&gt;</span>2000<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.queryMethod&#34;</span><span style=color:#f92672>&gt;</span>GET<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;guice.headlessModule&#34;</span><span style=color:#f92672>&gt;</span>com.plugtree.solrmeter.HeadlessModule<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;statistic.configuration.filePath&#34;</span><span style=color:#f92672>&gt;</span>statistics-config.xml<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;headless.numUpdates&#34;</span><span style=color:#f92672>&gt;</span>100<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.query.useFacets&#34;</span><span style=color:#f92672>&gt;</span>true<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.query.useFilterQueries&#34;</span><span style=color:#f92672>&gt;</span>true<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.server.configuration.followRedirect&#34;</span><span style=color:#f92672>&gt;</span>false<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.query.addRandomExtraParams&#34;</span><span style=color:#f92672>&gt;</span>true<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.queriesFiles&#34;</span><span style=color:#f92672>&gt;</span>C:\Develop\xxxxxx\SolrMeter\Test1\Set1_Queries.txt<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solrConnectedButton.pingInterval&#34;</span><span style=color:#f92672>&gt;</span>5000<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;statistic.timeRange.range501_1000&#34;</span><span style=color:#f92672>&gt;</span>true<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.query.filterQueriesFile&#34;</span><span style=color:#f92672>&gt;</span>C:\Develop\xxxxxx\Tools\SolrMeter\Test1\Set1_FilterQueries.txt<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;guice.solrMeterRunModeModule&#34;</span><span style=color:#f92672>&gt;</span>com.plugtree.solrmeter.SolrMeterRunModeModule<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.update.timeToCommit&#34;</span><span style=color:#f92672>&gt;</span>10000<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;guice.standalonePresentationModule&#34;</span><span style=color:#f92672>&gt;</span>com.plugtree.solrmeter.StandalonePresentationModule<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;statistic.timeRange.range0_500&#34;</span><span style=color:#f92672>&gt;</span>true<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.documentIdField&#34;</span><span style=color:#f92672>&gt;</span>id<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.update.solrAutocommit&#34;</span><span style=color:#f92672>&gt;</span>false<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.documentFieldsFile&#34;</span><span style=color:#f92672>&gt;</span>C:\Develop\xxxxxx\Tools\SolrMeter\Test1\Set1_fields.txt<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.testTime&#34;</span><span style=color:#f92672>&gt;</span>1<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;files.charset&#34;</span><span style=color:#f92672>&gt;</span>UTF-8<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;statistic.timeRange.range1001_2000&#34;</span><span style=color:#f92672>&gt;</span>true<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.server.configuration.allowCompression&#34;</span><span style=color:#f92672>&gt;</span>true<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.server.configuration.soTimeout&#34;</span><span style=color:#f92672>&gt;</span>60000<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;headless.outputDirectory&#34;</span><span style=color:#f92672>&gt;</span>./solrmeter-headless<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;statistic.showingStatistics&#34;</span><span style=color:#f92672>&gt;</span>all<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.query.echoParams&#34;</span><span style=color:#f92672>&gt;</span>false<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.query.extraParameters&#34;</span><span style=color:#f92672>&gt;</span>indent=true,debugQuery=false<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;executor.queryExecutor&#34;</span><span style=color:#f92672>&gt;</span>random<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.searchUrl&#34;</span><span style=color:#f92672>&gt;</span>http://localhost:8983/solr/MyCore<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;guice.modelModule&#34;</span><span style=color:#f92672>&gt;</span>com.plugtree.solrmeter.ModelModule<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.query.extraParams&#34;</span><span style=color:#f92672>&gt;</span>C:\Develop\xxxxxx\Tools\SolrMeter\Test1\Set1_extraparams.txt<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.server.configuration.maxTotalConnections&#34;</span><span style=color:#f92672>&gt;</span>1000000<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;statistic.timeRange.range2001_2147483647&#34;</span><span style=color:#f92672>&gt;</span>true<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.errorLogStatistic.maxStored&#34;</span><span style=color:#f92672>&gt;</span>400<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;guice.statisticsModule&#34;</span><span style=color:#f92672>&gt;</span>com.plugtree.solrmeter.StatisticsModule<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;executor.updateExecutor&#34;</span><span style=color:#f92672>&gt;</span>random<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.updatesFiles&#34;</span><span style=color:#f92672>/&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;headless.performUpdateOperations&#34;</span><span style=color:#f92672>&gt;</span>false<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;headless.numQueries&#34;</span><span style=color:#f92672>&gt;</span>100<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.load.queriespersecond&#34;</span><span style=color:#f92672>&gt;</span>5<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.search.queryType&#34;</span><span style=color:#f92672>/&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.server.configuration.maxRetries&#34;</span><span style=color:#f92672>&gt;</span>1<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.addUrl&#34;</span><span style=color:#f92672>&gt;</span>http://localhost:8983/solr/techproducts<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.load.updatespersecond&#34;</span><span style=color:#f92672>&gt;</span>1<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.server.configuration.defaultMaxConnectionsPerHost&#34;</span><span style=color:#f92672>&gt;</span>100000<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.queryLogStatistic.maxStored&#34;</span><span style=color:#f92672>&gt;</span>1000<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.query.facetMethod&#34;</span><span style=color:#f92672>&gt;</span>fc<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;entry</span> <span style=color:#a6e22e>key=</span><span style=color:#e6db74>&#34;solr.server.configuration.connectionTimeout&#34;</span><span style=color:#f92672>&gt;</span>60000<span style=color:#f92672>&lt;/entry&gt;</span>
<span style=color:#f92672>&lt;/properties&gt;</span></code></pre></td></tr></table></div></div><p>As you can see you have various option to configure and all of them are really self-explanatory. If <strong>you are interested, in this</strong> <a href=https://github.com/tflobbe/solrmeter/issues/94><strong>github issue</strong></a> <strong>lots of the option are explained.</strong> The most important options are the address of core and the path of files that contains queries. Now you only need to run solrmeter in headless mode with the following command line (note the solrmeter.runMode=headless):</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>java -Dsolrmeter.runMode<span style=color:#f92672>=</span>headless -Dsolrmeter.configurationFile<span style=color:#f92672>=</span>solrmeter.smc.xml -jar solrmeter-0.3.1-SNAPSHOT-jar-with-dependencies.jar</code></pre></td></tr></table></div></div><p>Then wait for the test to finish and you will find all the output in the folder you specify with the headless.outputDirectory settings. Now you only need to grab the result, put in an excel spreadsheet and do whatever you want with the data.</p><p>Thanks to the headless mode, you can run SolrMeter even in scenario where you have not an Ui, and most important you can automate the test with a script, because you have not the need to interact with a UI.</p><p>Gian Maria.</p></div><footer class=entry-footer><div class="container sep-before"><div class=categories><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5A2 2 0 014 3H9l2 3h9a2 2 0 012 2z"/></svg><span class=screen-reader-text>Categories: </span><a class=category href=/categories/solr/>Solr</a></div><div class=tags><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2H12l8.59 8.59A2 2 0 0120.59 13.41z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=screen-reader-text>Tags: </span><a class=tag href=/tags/solr/>Solr</a></div></div></footer></article><nav class=entry-nav><div class=container><div class="prev-entry sep-before">Leave comment in GitHub discussion page<a target=_blank href=https://github.com/alkampfergit/personal-blog/discussions> alkampfergit/personal-blog/discussions</a></div><div class="prev-entry sep-before"><a href=/post/old/2017/06/troubleshoot-a-failing-build-a-winrm-story/><span aria-hidden=true><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="20" y1="12" x2="4" y2="12"/><polyline points="10 18 4 12 10 6"/></svg>Previous</span>
<span class=screen-reader-text>Previous post: </span>Troubleshoot a failing build a Winrm story</a></div><div class="next-entry sep-before"><a href=/post/old/2017/06/running-powershell-before-get-sources-in-vsts-tfs-build/><span class=screen-reader-text>Next post: </span>Running powershell before Get Sources in VSTS TFS Build<span aria-hidden=true>Next<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="4" y1="12" x2="20" y2="12"/><polyline points="14 6 20 12 14 18"/></svg></span></a></div></div></nav></main><footer id=footer class=footer><div class="container sep-before"><section class="widget widget-social_menu sep-after"><nav aria-label="Social Menu"><ul><li><a href=https://github.com/alkampfergit target=_blank rel=noopener><span class=screen-reader-text>Open Github account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li><a href=https://twitter.com/alkampfer target=_blank rel=noopener><span class=screen-reader-text>Open Twitter account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><title>Twitter icon</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></li><li><a href=mailto:alkampfer@nablasoft.com target=_blank rel=noopener><span class=screen-reader-text>Contact via Email</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></li><li><a href=https://linkedin.com/in/gianmariaricci target=_blank rel=noopener><span class=screen-reader-text>Open Linkedin account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a></li></ul></nav></section><div class=copyright><p>&copy; 2020-2022 Ricci Gian Maria</p></div></div></footer></div></div><script>window.__assets_js_src="/assets/js/"</script><script src=/assets/js/main.c3bcf2df.js></script><script>console.log("this is cookie law");$(document).euCookieLawPopup().init({cookiePolicyUrl:'/privacy/',popupPosition:'top',colorStyle:'default',compactStyle:false,popupTitle:'This website is using cookies',popupText:'By continuing I assume your permission to deploy cookies, as detailed in the Privacy &amp; Cookies Policy.',buttonContinueTitle:'Continue',buttonLearnmoreTitle:'Learn more about this site Privacy &amp; Cookies Policy',buttonLearnmoreOpenInNewWindow:true,agreementExpiresInDays:30,autoAcceptCookiePolicy:false,htmlMarkup:null});</script></body></html>