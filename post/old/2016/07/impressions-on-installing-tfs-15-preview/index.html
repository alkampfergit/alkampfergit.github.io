<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Microsoft released a preview of the new version of Team Foundation Server, codename TFS “15” and as usual I immediately downloaded and installed on some of my test server. I’m not going to show you full steps of installation or upgrade, because installing TFS is now a Next/Next/Next experience, but I want to highlight a couple of really interesting aspect of the new installer.
Support to Pre-Production environment When it is time to upgrade your TFS production server, it is always a good practice to perform the upgrade in a pre-production environment, to avoid having surprises upgrading production instance."><meta name=theme-color content="#ffcd00"><meta property="og:title" content="Impressions on installing TFS '15' Preview • Codewrecks"><meta property="og:description" content="Microsoft released a preview of the new version of Team Foundation Server, codename TFS “15” and as usual I immediately downloaded and installed on some of my test server. I’m not going to show you full steps of installation or upgrade, because installing TFS is now a Next/Next/Next experience, but I want to highlight a couple of really interesting aspect of the new installer.
Support to Pre-Production environment When it is time to upgrade your TFS production server, it is always a good practice to perform the upgrade in a pre-production environment, to avoid having surprises upgrading production instance."><meta property="og:url" content="https://www.codewrecks.com/post/old/2016/07/impressions-on-installing-tfs-15-preview/"><meta property="og:site_name" content="Codewrecks"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:tag" content="Tfs"><meta property="article:published_time" content="2016-07-09T08:00:37+02:00"><meta property="article:modified_time" content="2016-07-09T08:00:37+02:00"><meta name=twitter:card content="summary"><meta name=generator content="Hugo 0.74.3"><title>Impressions on installing TFS '15' Preview • Codewrecks</title><link rel=canonical href=https://www.codewrecks.com/post/old/2016/07/impressions-on-installing-tfs-15-preview/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/assets/css/main.ab98e12b.css><style>:root{--color-accent:#ffcd00}</style><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-1773115-4','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js></script><script src=https://www.codewrecks.com/js/jquery-eu-cookie-law-popup.js></script><link rel=stylesheet href=https://www.codewrecks.com/css/jquery-eu-cookie-law-popup.css></head><body class="page type-post"><div class=site><a class=screen-reader-text href=#content>Skip to Content</a><div class=main><nav id=main-menu class="menu main-menu" aria-label="Main Menu"><div class=container><ul><li class=item><a href=/>Home</a></li><li class=item><a href=/categories/>Categories</a></li><li class=item><a href=/about/>About</a></li><li class=item><a href=/privacy/>Privacy</a></li></ul></div></nav><div class=header-widgets><div class=container><style>.widget-breadcrumbs li:after{content:'\2f '}</style><section class="widget widget-breadcrumbs sep-after"><nav id=breadcrumbs><ol><li><a href=/>Home</a></li><li><a href=/post/>Posts</a></li><li><span>Impressions on installing TFS '15' Preview</span></li></ol></nav></section></div></div><header id=header class="header site-header"><div class="container sep-after"><div class=header-info><p class="site-title title">Codewrecks</p><p class="desc site-desc">Wrecks of code floating in the sea of internet</p></div></div></header><main id=content><article lang=en class=entry><header class="header entry-header"><div class="container sep-after"><div class=header-info><h1 class=title>Impressions on installing TFS '15' Preview</h1></div><div class=entry-meta><span class=posted-on><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span class=screen-reader-text>Posted on</span>
<time class=entry-date datetime=2016-07-09T08:00:37+02:00>2016, Jul 09</time></span>
<span class=reading-time><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 15 15"/></svg>4 mins read</span></div></div></header><div class="container entry-content"><p>Microsoft released a <a href=https://www.visualstudio.com/en-us/news/releasenotes/tfs15-relnotes>preview of the new version of Team Foundation Server</a>, codename TFS “15” and as usual I immediately downloaded and installed on some of my test server. I’m not going to show you full steps of installation or upgrade, because installing TFS is now a Next/Next/Next experience, but <strong>I want to highlight a couple of really interesting aspect of the new installer</strong>.</p><h2 id=support-to-pre-production-environment>Support to Pre-Production environment</h2><p>When it is time to upgrade your TFS production server, it is always a good practice to perform the upgrade in a pre-production environment, to avoid having surprises upgrading production instance. Traditionally this is a not so immediate task, because <strong>you need to backup and restore database to a test server, then run some command line instructions to change the id of the server in db</strong> and then perform the upgrade.</p><p>I’ve done a post in the past on <a href=http://www.codewrecks.com/blog/index.php/2015/08/07/create-a-safe-clone-of-your-tfs-environment/>how to create a safe clone of your TFS Environment</a> and I suggest you to have a read of that post, but with the new version of TFS installer, when you choose the upgrade path, you have this new screen</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image_thumb.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image_thumb.png alt=image></a></a></p><p><em><strong>Figure 1</strong></em>: <em>You can choose to create a pre-production test directly from Wizard</em></p><p>This is a really big improvement, because now <strong>you can simply backup and restore your databases on a new server, run the wizard, choose to do a pre-production Upgrade Testing and you have a clone of you server upgraded to the new version</strong> where you can do all of your tests to verify the upgrade process.</p><blockquote><p>Thanks to Pre-Production Upgrade Testing option, creating a test clone of your server where to perform the upgrade is a breeze</p></blockquote><p>This option is not only useful for upgrades, but allows you to quickly create a clone of your TFS to do whatever experiment you want to do with real Production data, without harming your production server.</p><p><strong>Great work Microsoft!!</strong> ##</p><h2 id=code-search-and-elasticsearch>Code search and ElasticSearch</h2><p>Another interesting wizard screen is the one dedicated to installing code Search capabilities.</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image-1.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image_thumb-1.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image_thumb-1.png alt=image></a></a></p><p><em><strong>Figure 2</strong></em>: <em>Code search installing screen</em></p><p>Code search was introduced in VSTS lots of time ago, but now is available even on TFS installation. <strong>It uses ElasticSearch under the hood, but the installer takes care of everything for you.</strong> From <strong>Figure 2</strong> you can see that you only need to specify a folder where to store the index, and choose if you want to enable code search for every project collection and the game is done.</p><p>Sadly enough, you are not allowed to use an exising installation of ElasticSearch, here is the error you got if you already have ES installed on the machine.</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image-2.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image_thumb-2.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image_thumb-2.png alt=image></a></a></p><p><em><strong>Figure 3</strong></em>: <em>You cannot re-use an existing ES installation</em></p><p><strong>You should uninstall every installation of ES you have if your machine before installing code search capabilities.</strong> Since ES depends on Java, if you do not have Java JRE or JDK installed on the machine the wizard gives you an error during the verification process.</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image-3.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image_thumb-3.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image_thumb-3.png alt=image></a></a></p><p><em><strong>Figure 4</strong></em>: <em>An error is present if your machine has no Java installed</em></p><p>You can check the box where you accept the Oracle Binary Code License Agreement and the installer will download and install Java for you, or you can simply download and install Java manually, then re-run the Readiness Checks. <strong>If you are going to do a manual install of Java or if you have a pre-existing Java installation please check in ES site if your version is compatibile or have some problem.</strong> Usually you have no Java in your TFS Box, so it is safe to check the checkbox and have the installer do everything for your automatically.</p><h2 id=heading></h2><h2 id=ssh-support>SSH Support</h2><p>To support SSH Protocol for Git, you should tell the installer that you want to enable the SSH Service and choose the port (22 by default)</p><p><a href=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image-4.png><a target=_blank href=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image_thumb-4.png><img src=https://www.codewrecks.com/blog/wp-content/uploads/2016/07/image_thumb-4.png alt=image></a></a></p><p><em><strong>Figure 5</strong></em>: <em>SSH Support in TFS for Git</em></p><p>As TFS Evolves the Configure / Upgrade Wizard is more and more complete, and allows you to istall TFS without leaving the Wizard, and configuring / installing all dependent services for you.</p><p>Gian Maria.</p></div><footer class=entry-footer><div class="container sep-before"><div class=categories><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5A2 2 0 014 3H9l2 3h9a2 2 0 012 2z"/></svg><span class=screen-reader-text>Categories: </span><a class=category href=/categories/team-foundation-server/>Team Foundation Server</a></div><div class=tags><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2H12l8.59 8.59A2 2 0 0120.59 13.41z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=screen-reader-text>Tags: </span><a class=tag href=/tags/tfs/>Tfs</a></div></div></footer></article><nav class=entry-nav><div class=container><div class="prev-entry sep-before">Leave comment in GitHub discussion page<a target=_blank href=https://github.com/alkampfergit/personal-blog/discussions> alkampfergit/personal-blog/discussions</a></div><div class="prev-entry sep-before"><a href=/post/old/2016/06/create-parametrized-test-to-allow-for-simpler-builds/><span aria-hidden=true><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="20" y1="12" x2="4" y2="12"/><polyline points="10 18 4 12 10 6"/></svg>Previous</span>
<span class=screen-reader-text>Previous post: </span>Create Parametrized test to allow for simpler Builds</a></div><div class="next-entry sep-before"><a href=/post/old/2016/07/create-a-pre-production-test-environment-for-your-tfs/><span class=screen-reader-text>Next post: </span>Create a Pre-Production Test environment for your TFS<span aria-hidden=true>Next<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="4" y1="12" x2="20" y2="12"/><polyline points="14 6 20 12 14 18"/></svg></span></a></div></div></nav></main><footer id=footer class=footer><div class="container sep-before"><section class="widget widget-social_menu sep-after"><nav aria-label="Social Menu"><ul><li><a href=https://github.com/alkampfergit target=_blank rel=noopener><span class=screen-reader-text>Open Github account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li><a href=https://twitter.com/alkampfer target=_blank rel=noopener><span class=screen-reader-text>Open Twitter account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><title>Twitter icon</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></li><li><a href=mailto:alkampfer@nablasoft.com target=_blank rel=noopener><span class=screen-reader-text>Contact via Email</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></li><li><a href=https://linkedin.com/in/gianmariaricci target=_blank rel=noopener><span class=screen-reader-text>Open Linkedin account in new tab</span><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a></li></ul></nav></section><div class=copyright><p>&copy; 2020-2022 Ricci Gian Maria</p></div></div></footer></div></div><script>window.__assets_js_src="/assets/js/"</script><script src=/assets/js/main.c3bcf2df.js></script><script>console.log("this is cookie law");$(document).euCookieLawPopup().init({cookiePolicyUrl:'/privacy/',popupPosition:'top',colorStyle:'default',compactStyle:false,popupTitle:'This website is using cookies',popupText:'By continuing I assume your permission to deploy cookies, as detailed in the Privacy &amp; Cookies Policy.',buttonContinueTitle:'Continue',buttonLearnmoreTitle:'Learn more about this site Privacy &amp; Cookies Policy',buttonLearnmoreOpenInNewWindow:true,agreementExpiresInDays:30,autoAcceptCookiePolicy:false,htmlMarkup:null});</script></body></html>